!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}n.r(t);var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"downloadURI",value:function(e,t){var n=document.createElement("a");n.download=t,n.href=e,n.click()}},{key:"slug",value:function(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}}],(t=null)&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,u(a.key),a)}}function u(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tab=t,this.index=n}return t=e,a=[{key:"createNode",value:function(t,n){return new e(t,n).getNode()}}],(n=[{key:"getNode",value:function(){var e=o.slug(this.tab.name),t=document.createElement("li"),n=document.createElement("a");return n.className="nav-link",0==this.index&&n.classList.add("active"),n.id=e+"-tab",n.setAttribute("data-toggle","tab"),n.setAttribute("aria-controls",e),n.setAttribute("role","tab"),n.setAttribute("aria-selected",0==this.index?"true":"false"),n.href="#"+e,n.setAttribute("data-index",this.index),n.textContent=this.tab.name.toUpperCase(),t.className="nav-item",t.appendChild(n),t}}])&&l(t.prototype,n),a&&l(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p(a.key),a)}}function p(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=d(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}var y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tab=t,this.index=n}return t=e,a=[{key:"createNode",value:function(t,n){return new e(t,n).getNode()}}],(n=[{key:"getNode",value:function(){var e=o.slug(this.tab.name),t=document.createElement("div");t.className="tab-pane fade",0==this.index&&(t.classList.add("show"),t.classList.add("active")),t.id=e,t.setAttribute("role","tabpanel"),t.setAttribute("aria-labelledby",e+"-tab");var n=document.createElement("div");n.className="form p-3",t.appendChild(n);var a=document.createElement("div");a.className="float-right mt-1",a.innerHTML='<button type="button" class="btn btn-default reset_demo"><i class="fas fa-sync-alt mr-2"></i></button>',n.appendChild(a);var r=document.createElement("div");r.className="float-right mt-1",r.innerHTML='<button type="button" class="btn btn-default edit_demo" data-toggle="modal" data-target="#editAppModal"><i class="fas fa-cog mr-2"></i></button>',n.appendChild(r);var i=document.createElement("div");if(i.className="float-right mt-1",i.innerHTML='<a href="https://github.com/THEOplayer/samples-html5-sdk/tree/master/reference-apps/uplynk-app" target="_blank" type="button" class="btn btn-default"><i class="fab fa-github mr-2"></i></a>',n.appendChild(i),this.tab.config&&this.tab.config.general){var s=this.tab.config.general,l=document.createElement("p");if(l.className="text-muted mt-2",l.setAttribute("data-local","general"),l.textContent="General",n.appendChild(l),s.indexOf("coming-up-notification")>-1){var u=document.createElement("div");u.className="switch",u.innerHTML='<label><input id="'+e+'_contentNotification" type="checkbox" data-uplynkconfig="contentNotification" checked><span data-local="cun">Coming up notification</span></label>',n.appendChild(u)}if(s.indexOf("ad-notification")>-1){var c=document.createElement("div");c.className="switch",c.innerHTML='<label><input id="'+e+'_adNotification" type="checkbox" data-uplynkconfig="adNotification" checked><span data-local="an">Ad notification</span></label>',n.appendChild(c)}if(s.indexOf("show-asset-markers")>-1){var d=document.createElement("div");d.className="switch",d.innerHTML='<label><input id="'+e+'_assetMarkers" type="checkbox" data-uplynkconfig="assetMarkers" checked><span data-local="am">Show asset markers</span></label>',n.appendChild(d)}if(s.indexOf("show-ad-break-markers")>-1){var f=document.createElement("div");f.className="switch",f.innerHTML='<label><input id="'+e+'_adBreakMarkers" type="checkbox" data-uplynkconfig="adBreakMarkers" checked><span data-local="abm">Show ad break markers</span></label>',n.appendChild(f)}}if(this.tab.config&&this.tab.config["skip-offset"]){var p=document.createElement("div");p.className="form",p.innerHTML='<div class="form-group"><label for="'+e+'_skipOffset" data-local="so">Skip Offset</label><input type="number" class="form-control" id="'+e+'_skipOffset" placeholder="'+this.tab.config["skip-offset"]+'" min="-1" max="15" ></div>',n.appendChild(p)}if(this.tab.config&&this.tab.config["seek-over-ad"]){this.tab.config["seek-over-ad"];var y=document.createElement("p");y.className="text-muted mt-2",y.setAttribute("data-local","soa"),y.textContent="Seek over Ad",n.appendChild(y);var m=document.createElement("form");m.innerHTML='<div class="form-group pt-0">\n                                    <div class="radio form-check-inline">\n                                        <label>\n                                            <input type="radio" name="optionsRadios" id="'+e+'_optionsRadios1"\n                                                value="play-all" checked>\n                                             <span data-local="pa">Play all</span>\n                                        </label>\n                                    </div>\n                                    <div class="radio form-check-inline">\n                                        <label>\n                                            <input type="radio" name="optionsRadios" id="'+e+'_optionsRadios2"\n                                                value="play-none">\n                                            <span data-local="pn">Play none</span>\n                                        </label>\n                                    </div>\n                                    <div class="radio form-check-inline">\n                                        <label>\n                                            <input type="radio" name="optionsRadios" id="'+e+'_optionsRadios3"\n                                                value="play-last">\n                                            <span data-local="pl">Play last</span>\n                                        </label>\n                                    </div>\n                                </div>',n.appendChild(m)}if(this.tab.config&&this.tab.config.queue){var v=document.createElement("button");v.className="btn btn-default w-100 text-left",v.setAttribute("data-toggle","collapse"),v.href="#playlist_"+e,v.textContent="Queue",v.setAttribute("aria-expanded","true"),v.setAttribute("aria-controls","playlist_"+e),t.appendChild(v);var b=document.createElement("div");b.className="collapse show",b.id="playlist_"+e,t.appendChild(b)}return t}}])&&f(t.prototype,n),a&&f(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,b(a.key),a)}}function b(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=m(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var h=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"createAll",value:function(e){for(var t=0;t<e.length;t++)this.insertTab(e[t],t)}},{key:"insertTab",value:function(e,t){var n=document.querySelector("#myTab"),a=c.createNode(e,t);n.appendChild(a);var r=document.querySelector("#myTabContent"),i=y.createNode(e,t);r.appendChild(i)}},{key:"destroyAll",value:function(){document.querySelector("#myTab").innerHTML="",document.querySelector("#myTabContent").innerHTML=""}}],(t=null)&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,S(a.key),a)}}function S(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=g(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}var w=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"localizeAppAppCopyright",value:function(e,t){var n=this.getLanguageFromQueryParams()||t;if(n){var a=this.getAppLocalizationMap();for(var r in a){var i=document.querySelectorAll('[data-local="'+r+'"]');if(a[r][n]&&i&&i.length>0)for(var o=0;o<i.length;o++)i[o].innerText=a[r][n]}}}},{key:"getAppLocalizationMap",value:function(){return{general:{en:"General",es:"Configuración",ja:"構成",nl:"Algemeen"},cun:{en:"Coming up notification",es:"Notificación de contenido",ja:"コンテンツ通知",nl:"Video notificatie"},am:{en:"Show asset markers",es:"Marcadores de activos",ja:"アセットマーカー",nl:"Video markeringen"},an:{en:"Ad notification",es:"Notificación de publicidad",ja:"広告通知",nl:"Advertentie notificatie"},queue:{en:"Queue",es:"Cola",ja:"キュー",nl:"Lijst"},abm:{en:"Show ad break markers",es:"Marcadores publicitarios",ja:"広告マーカー",nl:"Advertentie markeringen"},so:{en:"Skip Offset",es:"Saltar desplazamiento",ja:"オフセットをスキップ",nl:"Advertenties Overslaan"},soa:{en:"Seek Over Ad",es:"Buscar Anuncio",ja:"広告を探す",nl:"Zoeken Voorbij Ads"},pa:{en:"Play all",es:"Todos",ja:"すべて",nl:"Alle"},pn:{en:"Play none",es:"Ninguna",ja:"なし",nl:"Geen"},pl:{en:"Play last",es:"Última",ja:"最終",nl:"Laatste"},configuration:{en:"Configuration",es:"Configuración",ja:"構成",nl:"Instellingen"},download:{en:"Download",es:"Descargar",ja:"ダウンロード",nl:"Download"},reset:{en:"Reset",es:"Reiniciar",ja:"リセット",nl:"Herstellen"},save:{en:"Save changes",es:"Salvar",ja:"セーブ",nl:"Opslaan"}}}},{key:"getLanguageFromQueryParams",value:function(){var e=function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("lang");return e&&e.toLowerCase()}},{key:"getSelectedLanguage",value:function(e,t){var n=this.getLanguageFromQueryParams()||t,a=this.getVjsLanguage(n);return a&&THEOplayer.videojs.addLanguage(n,a),a&&n}},{key:"getVjsLanguage",value:function(e){return{es:{Play:"Reproducción",Pause:"Pausa","Current Time":"Tiempo reproducido","Duration Time":"Duración total","Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Pantalla no completa",Mute:"Silenciar",Unmute:"No silenciado","Playback Rate":"Velocidad de reproducción",Subtitles:"Subtítulos","subtitles off":"Subtítulos desactivados",Captions:"Subtítulos especiales","captions off":"Subtítulos especiales desactivados",Chapters:"Capítulos","You aborted the media playback":"Ha interrumpido la reproducción del vídeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del vídeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el vídeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducción de vídeo se ha interrumpido por un problema de corrupción de datos o porque el vídeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este vídeo.",Settings:"Configuración"},ja:{Play:"再生",Pause:"一時停止","Current Time":"現在の時間","Duration Time":"長さ","Remaining Time":"残りの時間","Stream Type":"ストリームの種類",LIVE:"ライブ",Loaded:"ロード済み",Progress:"進行状況",Fullscreen:"フルスクリーン","Non-Fullscreen":"フルスクリーン以外",Mute:"ミュート",Unmute:"ミュート解除","Playback Rate":"再生レート",Subtitles:"サブタイトル","subtitles off":"サブタイトル オフ",Captions:"キャプション","captions off":"キャプション オフ",Chapters:"チャプター","You aborted the media playback":"動画再生を中止しました","A network error caused the media download to fail part-way.":"ネットワーク エラーにより動画のダウンロードが途中で失敗しました","The media could not be loaded, either because the server or network failed or because the format is not supported.":"サーバーまたはネットワークのエラー、またはフォーマットがサポートされていないため、動画をロードできませんでした","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"破損の問題、またはお使いのブラウザがサポートしていない機能が動画に使用されていたため、動画の再生が中止されました","No compatible source was found for this media.":"この動画に対して互換性のあるソースが見つかりませんでした",Settings:"構成"},nl:{Play:"Afspelen",Pause:"Pauze","Current Time":"Huidige tijd","Duration Time":"Looptijd","Remaining Time":"Resterende tijd","Stream Type":"Streamtype",LIVE:"LIVE",Loaded:"Geladen",Progress:"Status",Fullscreen:"Volledig scherm","Non-Fullscreen":"Geen volledig scherm",Mute:"Geluid uit",Unmute:"Geluid aan","Playback Rate":"Weergavesnelheid",Subtitles:"Ondertiteling","subtitles off":"ondertiteling uit",Captions:"Bijschriften","captions off":"bijschriften uit",Chapters:"Hoofdstukken",Descriptions:"Beschrijvingen","descriptions off":"beschrijvingen off","You aborted the media playback":"U hebt de mediaweergave afgebroken.","A network error caused the media download to fail part-way.":"De mediadownload is mislukt door een netwerkfout.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"De media kon niet worden geladen, vanwege een server- of netwerkfout of doordat het formaat niet wordt ondersteund.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"De mediaweergave is afgebroken vanwege beschadigde data of het mediabestand gebruikt functies die niet door uw browser worden ondersteund.","No compatible source was found for this media.":"Voor deze media is geen ondersteunde bron gevonden.","Play Video":"Video Afspelen",Close:"Sluiten","Modal Window":"Modal Venster","This is a modal window":"Dit is een modaal venster","This modal can be closed by pressing the Escape key or activating the close button.":"Dit modaal venster kan gesloten worden door op Escape te drukken of de 'sluiten' knop te activeren.",", opens captions settings dialog":", opent bijschriften instellingen venster",", opens subtitles settings dialog":", opent ondertiteling instellingen venster",", opens descriptions settings dialog":", opent beschrijvingen instellingen venster",", selected":", selected",Settings:"Instellingen"}}[e]}}],(t=null)&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,C(a.key),a)}}function C(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=E(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}var L=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.init()},(t=[{key:"init",value:function(){var e=this.app;this.initSaveButtonListener(),this.initResetButtonListener(),this.initDownloadButtonListener();var t=localStorage.getItem("appConfig");t&&(t=JSON.parse(t),e.appConfig=t),document.querySelector("#editAppModal textarea").value=JSON.stringify(e.appConfig,null,"\t")}},{key:"initSaveButtonListener",value:function(){var e=this.app;document.querySelector("#save-app-config").addEventListener("click",(function(t){var n=document.querySelector("#editAppModal textarea");n&&(n=JSON.parse(n.value),localStorage.setItem("appConfig",JSON.stringify(n)),h.destroyAll(),e.appConfig=n,e.init(),$(".switch").bootstrapMaterialDesign())}))}},{key:"initResetButtonListener",value:function(){document.querySelector("#reset-app-config").addEventListener("click",(function(e){localStorage.removeItem("appConfig"),location.reload()}))}},{key:"initDownloadButtonListener",value:function(){document.querySelector("#download-app-config").addEventListener("click",(function(e){var t=document.querySelector("#editAppModal textarea");if(t){t=JSON.stringify(JSON.parse(t.value),null,"\t");var n=new Blob([t],{type:"application/json"}),a=window.URL.createObjectURL(n);o.downloadURI(a,"uplynkAppConfig.json")}}))}}])&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,A(a.key),a)}}function A(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=P(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}var O=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"addItem",value:function(e,t,n){var a="<button class='btn btn-default w-100 text-left mb-3' id='item_"+e.asset+"'><div class='media'><img src='"+e.poster_url+"'class='mr-3' alt='"+e.desc+"'><div class='media-body'>"+e.desc+"</div></div></button>",r=document.createElement("div");r.onclick=e.clickCallback,r.innerHTML=a;var i="playlist_"+n,o=document.getElementById(i);o&&o.appendChild(r)}},{key:"clear",value:function(e,t){var n="playlist_"+t,a=document.getElementById(n);a&&(a.innerHTML="")}},{key:"updateActiveItem",value:function(e){for(var t=document.querySelectorAll(".media"),n=0;n<t.length;n++)t[n].parentNode.classList.remove("active-asset");var a=document.querySelectorAll(".tab-pane.active .media")[e.index];a&&a.parentNode.classList.add("active-asset"),document.querySelector("#currentAssetDescription").innerText=e.resource.description}}],(t=null)&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,M(a.key),a)}}function M(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=N(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}var R=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.theoplayerRef=void 0,this.playlist=void 0,this.adBreaks=[]},(t=[{key:"initPlayer",value:function(e){var t=this,n=this.app;t.playlist=[],O.clear(n.sourceIndex,o.slug(n.appConfig.tabs[n.sourceIndex].name)),this.theoplayerRef&&this.theoplayerRef.destroy();var a=document.querySelector(".theoplayer-container");this.createTHEOplayerInfo(a),this.theoplayerRef=new THEOplayer.Player(a,{libraryLocation:"//cdn.theoplayer.com/dash/theoplayer/",uplynk:{onSeekOverAd:n.config.uplynk.seekOverAd,ui:{contentNotification:n.config.uplynk.contentNotification,adNotification:n.config.uplynk.adNotification,assetMarkers:n.config.uplynk.assetMarkers,adBreakMarkers:n.config.uplynk.adBreakMarkers},defaultSkipOffset:n.config.uplynk.defaultSkipOffset},ui:{language:w.getSelectedLanguage(n,n.appConfig.language)},persistVolume:!0}),this.createCustomIcon(this.theoplayerRef),this.theoplayerRef.autoplay=!0,this.theoplayerRef.preload="auto";var r=this.getSource(e);if(this.isLiveStream(r)){a.classList.add("liveplayer");var i=!0;this.theoplayerRef.addEventListener("progress",(function(){var e=this.seekable.end()-this.currentTime;i&&e>60&&(this.source=this.source)})),this.theoplayerRef.uplynk.ads.adBreaks.addEventListener("addadbreak",(function(e){e.adBreak.addEventListener("adbreakbegin",(function(){i=!1})),e.adBreak.addEventListener("adbreakend",(function(){i=!0}))}))}else a.classList.contains("liveplayer")&&a.classList.remove("liveplayer");return this.theoplayerRef.uplynk.addEventListener("assetinforesponse",(function(e){t.addMetadataToPlaylist(e.response)})),this.theoplayerRef.uplynk.ads.adBreaks.addEventListener("addadbreak",(function(e){t.adBreaks.push(e.adBreak)})),this.currentAsset=-1,this.theoplayerRef.addEventListener("timeupdate",(function(){t.updateActiveAsset()})),this.updateActiveQuality(this.theoplayerRef),this.subscribeToUplynkEvents(this.theoplayerRef),this.updateFeatures(e),this.theoplayerRef.source=r,this.playerRef}},{key:"isLiveStream",value:function(e){return e.sources.assetType&&("channel"==e.sources.assetType||"event"==e.sources.assetType)}},{key:"updateActiveAsset",value:function(){var e=this.getActiveAsset();e&&e.index!=this.currentAsset&&(this.currentAsset=e.index,O.updateActiveItem(e),document.querySelector("#currentAssetDescription").innerText=e.resource.description)}},{key:"addMetadataToPlaylist",value:function(e){var t=this,n=this.app,a=this.theoplayerRef.uplynk.assets;this.playlist.length>0?e.startTime=a[this.playlist.length].startTime:e.startTime=0,e.clickCallback=function(){t.theoplayerRef.currentTime=e.startTime},this.playlist.push(e),O.addItem(e,n.sourceIndex,o.slug(n.appConfig.tabs[n.sourceIndex].name))}},{key:"getSource",value:function(e){return{sources:this.app.appConfig.tabs[e].source}}},{key:"updateSkipOffset",value:function(e){for(var t=0;t<this.adBreaks.length;t++)this.adBreaks[t].skipOffset=e}},{key:"getActiveAsset",value:function(){for(var e,t=this.theoplayerRef.currentTime,n=this.theoplayerRef.uplynk.assets,a=0;a<n.length;a++){var r=n[a];r.startTime<=t&&t<=r.endTime&&(e={type:r.isAd?"adBreak":"asset",resource:r,index:a})}return e}},{key:"getFeatures",value:function(e){return this.app.appConfig.tabs[e].features}},{key:"createCustomIcon",value:function(e){var t=THEOplayer.videojs.getComponent("Button"),n=THEOplayer.videojs.extend(t,{constructor:function(){t.apply(this,arguments);var e=document.createElement("span");function n(){e.classList.toggle("vjs-hidden")}e.className="theo-button-tooltip vjs-hidden",e.innerText="Info",this.el().addEventListener("mouseover",n),this.el().addEventListener("mouseout",n),this.el().appendChild(e)},handleClick:function(){document.querySelector(".theoplayer-info").classList.toggle("hidden")},buildCSSClass:function(){return"fa fa-info vjs-button"}});THEOplayer.videojs.registerComponent("RewindButton",n),e.ui.getChild("controlBar").addChild("RewindButton",{})}},{key:"updateActiveQuality",value:function(e){var t=this;e.videoTracks.addEventListener("addtrack",(function(e){e.track.addEventListener("activequalitychanged",(function(e){document.querySelector("#currentVideoQuality").innerText=e.quality.height+" ("+e.quality.codecs+")",t.writeEvents(JSON.stringify(e))}))}))}},{key:"clearEvents",value:function(){document.querySelector("#theoplayer-events textarea").value=""}},{key:"writeEvents",value:function(e){document.querySelector("#theoplayer-events textarea").value=e+"\n"+document.querySelector("#theoplayer-events textarea").value}},{key:"subscribeToUplynkEvents",value:function(e){var t=this;["preplayresponse","pingresponse","assetinforesponse"].forEach((function(n){e.uplynk.addEventListener(n,(function(e){t.writeEvents(JSON.stringify(e))}))})),["addasset","removeasset"].forEach((function(n){e.uplynk.assets.addEventListener(n,(function(e){t.writeEvents(JSON.stringify(e))}))})),["addadbreak","removeadbreak"].forEach((function(n){e.uplynk.ads.adBreaks.addEventListener(n,(function(e){if(t.writeEvents(JSON.stringify(e)),"addadbreak"==e.type){["adbreakbegin","adbreakend","adbreakskip","updateadbreak"].forEach((function(n){e.adBreak.addEventListener(n,(function(e){t.writeEvents(JSON.stringify(e))}))}));for(var n=function(n){["adbegin","adend","adfirstquartile","admidpoint","adthirdquartile","adcomplete"].forEach((function(a){e.adBreak.ads[n].addEventListener(a,(function(e){t.writeEvents(JSON.stringify(e))}))}))},a=0;a<e.adBreak.ads.length;a++)n(a)}}))}))}},{key:"updateFeatures",value:function(e){var t=this.getFeatures(e),n=document.querySelector("#theoplayer-uplynk-features");n.innerHTML="";for(var a=0;a<t.length;a++){var r=document.createElement("span");r.className="badge badge-pill badge-primary",r.innerText=t[a],n.appendChild(r)}}},{key:"createTHEOplayerInfo",value:function(e){e.innerHTML='<div class="theoplayer-info hidden">\n                        <div class="card">\n                            <div class="card-header" style="color: #212529">\n                                <div id="card-title-spacer">\n                                    <span id="currentAssetDescription"></span> &nbsp; <i class="fa fa-video"></i> <span id="currentVideoQuality"></span>\n                                </div>\n                                <i class="far fa-window-close"></i>\n                            </div>\n                            <div class="card-body" id="theoplayer-events">\n                                <h5 class="card-title">Events</h5>\n                                <p class="card-text">\n                                      <textarea class="">\n                                      </textarea>\n                                </p>\n                            </div>\n                            <div class="card-footer text-muted" id="theoplayer-uplynk-features">\n                            </div>\n                        </div>\n                    </div>',document.querySelector(".fa-window-close").addEventListener("click",(function(){document.querySelector(".theoplayer-info").classList.toggle("hidden")}))}}])&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),I=I||{language:"en",tabs:[{name:"Multi-Asset DRM",source:{integration:"uplynk",id:["e973a509e67241e3aa368730130a104d","e70a708265b94a3fa6716666994d877d"],contentProtected:!0,assetType:"asset",preplayParameters:{}},features:["Preplay","Asset Info","DRM","Multi-Asset"],config:{general:["coming-up-notification","show-asset-markers"],queue:!0},experimental:["preview-thumbnails"]},{name:"Ads",source:{integration:"uplynk",id:["41afc04d34ad4cbd855db52402ef210e","c6b61470c27d44c4842346980ec2c7bd","588f9d967643409580aa5dbe136697a1","b1927a5d5bd9404c85fde75c307c63ad","7e9932d922e2459bac1599938f12b272","a4c40e2a8d5b46338b09d7f863049675","bcf7d78c4ff94c969b2668a6edc64278"],contentProtected:!1,assetType:"asset",preplayParameters:{ad:"adtest","ad.lib":"15_sec_spots"}},features:["Preplay","Asset Info","Ads","Multi-Asset","SSAI"],config:{general:["coming-up-notification","ad-notification","show-asset-markers","show-ad-break-markers"],"skip-offset":"-1","seek-over-ad":"play-all",queue:!0}}]};function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_(a.key),a)}}function _(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=B(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}var H=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceIndex=0,this.playerUtil=new R(this),this.firstLoad=!1,this.appConfig=I,this.config={uplynk:{contentNotification:!0,adNotification:!0,assetMarkers:!0,adBreakMarkers:!0,seekOverAd:"play-all",defaultSkipOffset:-1}}},(t=[{key:"init",value:function(){this.firstLoad||(this.firstLoad=!0,this.appModal=new L(this)),h.createAll(this.appConfig.tabs),this.bindControls(),w.localizeAppAppCopyright(this,this.appConfig.language),this.playerUtil.initPlayer(0)}},{key:"reset",value:function(){for(var e=this.appConfig.tabs,t=[],n=[],a=[],r=0;r<e.length;r++){var i=e[r].config,s=o.slug(e[r].name);i.general.indexOf("coming-up-notification")>-1&&t.push(s+"_contentNotification"),i.general.indexOf("ad-notification")>-1&&t.push(s+"_adNotification"),i.general.indexOf("show-asset-markers")>-1&&t.push(s+"_assetMarkers"),i.general.indexOf("show-ad-break-markers")>-1&&t.push(s+"_adBreakMarkers"),i["skip-offset"]&&n.push(s+"_skipOffset"),i["seek-over-ad"]&&a.push(s+"_optionsRadios1")}t.forEach((function(e){document.getElementById(e).checked=!0})),n.forEach((function(e){document.getElementById(e).value=-1})),a.forEach((function(e){document.getElementById(e).checked=!0})),this.config.uplynk.contentNotification=!0,this.config.uplynk.adNotification=!0,this.config.uplynk.assetMarkers=!0,this.config.uplynk.adBreakMarkers=!0,this.config.uplynk.seekOverAd="play-all",this.config.uplynk.defaultSkipOffset=-1}},{key:"bindControls",value:function(){for(var e=this,t=document.querySelectorAll("#myTab a"),n=0;n<t.length;n++)t[n].onclick=function(t){e.reset();var n=t.target.dataset.index;e.sourceIndex!==n&&(e.sourceIndex=n,e.playerUtil.initPlayer(n))};for(var a=document.forms[0].optionsRadios,r=0;r<a.length;r++)a[r].addEventListener("change",(function(t){e.config.uplynk.seekOverAd=t.srcElement.value,e.playerUtil.initPlayer(e.sourceIndex)}));for(var i=0;i<e.appConfig.tabs.length;i++){var s=document.getElementById(o.slug(e.appConfig.tabs[i].name)+"_skipOffset");s&&s.addEventListener("change",(function(t){var n=parseInt(t.target.value),a=parseInt(t.target.max);n<0&&(t.target.value=-1),n>a&&(t.target.value=a),e.config.uplynk.defaultSkipOffset=n||-1,e.playerUtil.updateSkipOffset(e.config.uplynk.defaultSkipOffset)}))}for(var l=document.querySelectorAll('#myTabContent input[type="checkbox"]'),u=0;u<l.length;u++)l[u].onclick=function(t){e.config.uplynk[t.target.dataset.uplynkconfig]=t.srcElement.checked,e.playerUtil.initPlayer(e.sourceIndex)};for(var c=document.getElementsByClassName("reset_demo"),d=0;d<c.length;d++)c[d].onclick=function(){e.reset(),e.playerUtil.initPlayer(e.sourceIndex)}}}])&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();window.App=H}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL3RhYi9UYWJUaXRsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvdGFiL1RhYkNvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL3RhYi9UYWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvY2FsaXphdGlvbi9Mb2NhbGl6YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL0FwcE1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy91aS9QbGF5bGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJVdGlsIiwiX2NsYXNzQ2FsbENoZWNrIiwidXJpIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiaHJlZiIsImNsaWNrIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiVGFiVGl0bGUiLCJ0YWIiLCJpbmRleCIsInRoaXMiLCJnZXROb2RlIiwic2x1Z05hbWUiLCJzbHVnIiwibGlOb2RlIiwiYU5vZGUiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJpZCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwidG9VcHBlckNhc2UiLCJhcHBlbmRDaGlsZCIsIlRhYkNvbnRlbnQiLCJkaXYxIiwiZGl2MTEiLCJkaXYxMTEiLCJpbm5lckhUTUwiLCJkaXYxMTFiIiwiZGl2MTExYyIsImNvbmZpZyIsImdlbmVyYWwiLCJwMTEyIiwiaW5kZXhPZiIsImRpdjExMyIsImRpdjExNCIsImRpdjExNSIsImRpdjExNiIsImRpdjExNyIsInAxMTgiLCJmMTE5IiwiYnV0dG9uMTEiLCJkaXYxMiIsIlRhYiIsInRhYnMiLCJsZW5ndGgiLCJpbnNlcnRUYWIiLCJjb250YWluZXJOb2RlIiwicXVlcnlTZWxlY3RvciIsInRhYlRpdGxlTm9kZSIsImNyZWF0ZU5vZGUiLCJjb250YWluZXJDb250ZW50Tm9kZSIsInRhYkNvbnRlbnROb2RlIiwiTG9jYWxpemF0aW9uIiwiYXBwIiwiYXBwQ29uZmlnTGFuZ3VhZ2UiLCJsYW5nQ29kZSIsImdldExhbmd1YWdlRnJvbVF1ZXJ5UGFyYW1zIiwibG9jYWxNYXAiLCJnZXRBcHBMb2NhbGl6YXRpb25NYXAiLCJzZWxlY3RvcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5uZXJUZXh0IiwiZW4iLCJlcyIsImphIiwibmwiLCJsYW5ndWFnZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVzdWx0cyIsIlJlZ0V4cCIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJsYW5ndWFnZUNvZGUiLCJnZXRWanNMYW5ndWFnZSIsIlRIRU9wbGF5ZXIiLCJ2aWRlb2pzIiwiYWRkTGFuZ3VhZ2UiLCJBcHBNb2RhbCIsImluaXQiLCJpbml0U2F2ZUJ1dHRvbkxpc3RlbmVyIiwiaW5pdFJlc2V0QnV0dG9uTGlzdGVuZXIiLCJpbml0RG93bmxvYWRCdXR0b25MaXN0ZW5lciIsImNvbmZpZ0luTG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImFwcENvbmZpZyIsInN0cmluZ2lmeSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibmV3Q29uZmlnIiwic2V0SXRlbSIsImRlc3Ryb3lBbGwiLCIkIiwiYm9vdHN0cmFwTWF0ZXJpYWxEZXNpZ24iLCJyZW1vdmVJdGVtIiwicmVsb2FkIiwiY3VycmVudENvbmZpZyIsImRhdGEiLCJCbG9iIiwidHlwZSIsInRleHRGaWxlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWRVUkkiLCJQbGF5bGlzdCIsIml0ZW0iLCJ0YWJOYW1lIiwiaHRtbCIsImFzc2V0IiwicG9zdGVyX3VybCIsImRlc2MiLCJpdGVtRWxlbWVudCIsIm9uY2xpY2siLCJjbGlja0NhbGxiYWNrIiwicGxheWxpc3RJZCIsInBsYXlsaXN0Tm9kZSIsImdldEVsZW1lbnRCeUlkIiwiYWxsTWVkaWEiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwicGxheWxpc3RJdGVtTWF0Y2hpbmdDdXJyZW50QXNzZXQiLCJyZXNvdXJjZSIsImRlc2NyaXB0aW9uIiwiUGxheWVyVXRpbCIsInRoZW9wbGF5ZXJSZWYiLCJ1bmRlZmluZWQiLCJwbGF5bGlzdCIsImFkQnJlYWtzIiwic291cmNlSW5kZXgiLCJfc2VsZiIsImNsZWFyIiwiZGVzdHJveSIsImVsZW1lbnQiLCJjcmVhdGVUSEVPcGxheWVySW5mbyIsIlBsYXllciIsImxpYnJhcnlMb2NhdGlvbiIsInVwbHluayIsIm9uU2Vla092ZXJBZCIsInNlZWtPdmVyQWQiLCJ1aSIsImNvbnRlbnROb3RpZmljYXRpb24iLCJhZE5vdGlmaWNhdGlvbiIsImFzc2V0TWFya2VycyIsImFkQnJlYWtNYXJrZXJzIiwiZGVmYXVsdFNraXBPZmZzZXQiLCJnZXRTZWxlY3RlZExhbmd1YWdlIiwicGVyc2lzdFZvbHVtZSIsImNyZWF0ZUN1c3RvbUljb24iLCJhdXRvcGxheSIsInByZWxvYWQiLCJzb3VyY2UiLCJnZXRTb3VyY2UiLCJpc0xpdmVTdHJlYW0iLCJsaXZlUmVzZXRDaGVjayIsImRpZmZlcmVuY2VDdXJyZW50VGltZUxpdmVwb2ludCIsInNlZWthYmxlIiwiZW5kIiwiY3VycmVudFRpbWUiLCJhZHMiLCJldmVudCIsImFkQnJlYWsiLCJjb250YWlucyIsImFkZE1ldGFkYXRhVG9QbGF5bGlzdCIsInJlc3BvbnNlIiwicHVzaCIsImN1cnJlbnRBc3NldCIsInVwZGF0ZUFjdGl2ZUFzc2V0IiwidXBkYXRlQWN0aXZlUXVhbGl0eSIsInN1YnNjcmliZVRvVXBseW5rRXZlbnRzIiwidXBkYXRlRmVhdHVyZXMiLCJwbGF5ZXJSZWYiLCJzb3VyY2VzIiwiYXNzZXRUeXBlIiwibmV3QXNzZXQiLCJnZXRBY3RpdmVBc3NldCIsInVwZGF0ZUFjdGl2ZUl0ZW0iLCJhc3NldHMiLCJzdGFydFRpbWUiLCJhZGRJdGVtIiwibmV3VmFsdWUiLCJza2lwT2Zmc2V0IiwiYWN0aXZlQXNzZXRPckFkQnJlYWsiLCJ0aW1lIiwiZW5kVGltZSIsImlzQWQiLCJmZWF0dXJlcyIsInBsYXllciIsIkJ1dHRvbiIsImdldENvbXBvbmVudCIsIlJld2luZEJ1dHRvbiIsImV4dGVuZCIsImNvbnN0cnVjdG9yIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0b29sdGlwU3BhbiIsInRvZ2dsZVRvb2x0aXAiLCJ0b2dnbGUiLCJlbCIsImhhbmRsZUNsaWNrIiwiYnVpbGRDU1NDbGFzcyIsInJlZ2lzdGVyQ29tcG9uZW50IiwiZ2V0Q2hpbGQiLCJhZGRDaGlsZCIsInZpZGVvVHJhY2tzIiwiZTAiLCJ0cmFjayIsImUxIiwicXVhbGl0eSIsImhlaWdodCIsImNvZGVjcyIsIndyaXRlRXZlbnRzIiwidGV4dCIsImZvckVhY2giLCJlMiIsIl9sb29wIiwiZ2V0RmVhdHVyZXMiLCJmZWF0dXJlc0RpdiIsInNwYW5FbCIsImludGVncmF0aW9uIiwiY29udGVudFByb3RlY3RlZCIsInByZXBsYXlQYXJhbWV0ZXJzIiwiZXhwZXJpbWVudGFsIiwiYWQiLCJBcHAiLCJwbGF5ZXJVdGlsIiwiZmlyc3RMb2FkIiwiYXBwTW9kYWwiLCJjcmVhdGVBbGwiLCJiaW5kQ29udHJvbHMiLCJsb2NhbGl6ZUFwcEFwcENvcHlyaWdodCIsImluaXRQbGF5ZXIiLCJyYWRpb0NvbnRyb2xJZHMiLCJza2lwT2Zmc2V0cyIsIm9wdGlvblJhZGlvcyIsImNoZWNrZWQiLCJyZXNldCIsInRhYkluZGV4IiwidGFyZ2V0IiwiZGF0YXNldCIsInJhZGlvcyIsImZvcm1zIiwib3B0aW9uc1JhZGlvcyIsInNyY0VsZW1lbnQiLCJza2lwVmFsdWUiLCJwYXJzZUludCIsInNraXBNYXgiLCJtYXgiLCJ1cGRhdGVTa2lwT2Zmc2V0IiwidXBseW5rQ2hlY2tib3hlcyIsInVwbHlua2NvbmZpZyIsInJlc2V0QnV0dG9ucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQ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T0FBT3ZRLE9BQzlCK1EsRUFBVUQsU0FBUzVKLEVBQUVxSixPQUFPUyxLQUM5QkgsRUFBWSxJQUNaM0osRUFBRXFKLE9BQU92USxPQUFTLEdBRWxCNlEsRUFBWUUsSUFDWjdKLEVBQUVxSixPQUFPdlEsTUFBUStRLEdBRXJCcEgsRUFBTXpHLE9BQU9nSCxPQUFPUSxrQkFBb0JtRyxJQUFjLEVBQ3REbEgsRUFBTStGLFdBQVd1QixpQkFBaUJ0SCxFQUFNekcsT0FBT2dILE9BQU9RLHNCQU9sRSxJQURBLElBQU13RyxFQUFtQi9QLFNBQVM4RCxpQkFBaUIsd0NBQzFDbEcsRUFBSSxFQUFHQSxFQUFJbVMsRUFBaUJqTixPQUFRbEYsSUFDN0JtUyxFQUFpQm5TLEdBQ3pCMkosUUFBVSxTQUFVeEIsR0FDcEJ5QyxFQUFNekcsT0FBT2dILE9BQU9oRCxFQUFFcUosT0FBT0MsUUFBUVcsY0FBZ0JqSyxFQUFFMEosV0FBV1IsUUFDbEV6RyxFQUFNK0YsV0FBV00sV0FBV3JHLEVBQU1ELGNBTTFDLElBREEsSUFBTTBILEVBQWVqUSxTQUFTa1EsdUJBQXVCLGNBQzVDdFMsRUFBSSxFQUFHQSxFQUFJcVMsRUFBYW5OLE9BQVFsRixJQUNyQ3FTLEVBQWFyUyxHQUFHMkosUUFBVSxXQUN0QmlCLEVBQU0wRyxRQUNOMUcsRUFBTStGLFdBQVdNLFdBQVdyRyxFQUFNRCxtQiwwRkFySWxDLEdDTmhCakUsT0FBT2dLLElBQU1BIiwiZmlsZSI6ImRpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY2xhc3MgVXRpbCB7XG4gICAgc3RhdGljIGRvd25sb2FkVVJJKHVyaSwgbmFtZSkge1xuICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBuYW1lO1xuICAgICAgICBsaW5rLmhyZWYgPSB1cmk7XG4gICAgICAgIGxpbmsuY2xpY2soKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2x1Zyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csJy0nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1teXFx3LV0rL2csJycpO1xuICAgIH1cbn0iLCJpbXBvcnQge1V0aWx9IGZyb20gXCIuLi8uLi9VdGlsXCI7XG5cbmV4cG9ydCBjbGFzcyBUYWJUaXRsZSB7XG4gICAgY29uc3RydWN0b3IodGFiLCBpbmRleCkge1xuICAgICAgICB0aGlzLnRhYiA9IHRhYjtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICBnZXROb2RlKCkge1xuICAgICAgICBjb25zdCBzbHVnTmFtZSA9IFV0aWwuc2x1Zyh0aGlzLnRhYi5uYW1lKTtcbiAgICAgICAgY29uc3QgbGlOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgY29uc3QgYU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGFOb2RlLmNsYXNzTmFtZSA9IFwibmF2LWxpbmtcIjtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgYU5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgYU5vZGUuaWQgPSBzbHVnTmFtZSArIFwiLXRhYlwiO1xuICAgICAgICBhTm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9nZ2xlJywgJ3RhYicpO1xuICAgICAgICBhTm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBzbHVnTmFtZSk7XG4gICAgICAgIGFOb2RlLnNldEF0dHJpYnV0ZSgncm9sZScsIFwidGFiXCIpO1xuICAgICAgICBhTm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAodGhpcy5pbmRleCA9PSAwKSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcbiAgICAgICAgYU5vZGUuaHJlZiA9IFwiI1wiK3NsdWdOYW1lO1xuICAgICAgICBhTm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCB0aGlzLmluZGV4KTtcbiAgICAgICAgYU5vZGUudGV4dENvbnRlbnQgPSB0aGlzLnRhYi5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGxpTm9kZS5jbGFzc05hbWUgPSBcIm5hdi1pdGVtXCI7XG4gICAgICAgIGxpTm9kZS5hcHBlbmRDaGlsZChhTm9kZSk7XG4gICAgICAgIHJldHVybiBsaU5vZGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVOb2RlKHRhYiwgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgdGFiVGl0bGUgPSBuZXcgVGFiVGl0bGUodGFiLCBpbmRleCk7XG4gICAgICAgIHJldHVybiB0YWJUaXRsZS5nZXROb2RlKCk7XG4gICAgfVxufSIsImltcG9ydCB7VXRpbH0gZnJvbSBcIi4uLy4uL1V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFRhYkNvbnRlbnQge1xuICAgIGNvbnN0cnVjdG9yKHRhYiwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy50YWIgPSB0YWI7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgZ2V0Tm9kZSgpIHtcbiAgICAgICAgY29uc3Qgc2x1Z05hbWUgPSBVdGlsLnNsdWcodGhpcy50YWIubmFtZSk7XG5cbiAgICAgICAgY29uc3QgZGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYxLmNsYXNzTmFtZSA9IFwidGFiLXBhbmUgZmFkZVwiO1xuICAgICAgICBpZiAodGhpcy5pbmRleCA9PSAwKSB7XG4gICAgICAgICAgICBkaXYxLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgICAgZGl2MS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGRpdjEuaWQgPSBzbHVnTmFtZTtcbiAgICAgICAgZGl2MS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFicGFuZWwnKTtcbiAgICAgICAgZGl2MS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsIHNsdWdOYW1lICsgJy10YWInKTtcblxuICAgICAgICBjb25zdCBkaXYxMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYxMS5jbGFzc05hbWUgPSBcImZvcm0gcC0zXCI7XG4gICAgICAgIGRpdjEuYXBwZW5kQ2hpbGQoZGl2MTEpO1xuXG4gICAgICAgIGNvbnN0IGRpdjExMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYxMTEuY2xhc3NOYW1lID0gJ2Zsb2F0LXJpZ2h0IG10LTEnO1xuICAgICAgICBkaXYxMTEuaW5uZXJIVE1MID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IHJlc2V0X2RlbW9cIj48aSBjbGFzcz1cImZhcyBmYS1zeW5jLWFsdCBtci0yXCI+PC9pPjwvYnV0dG9uPic7XG4gICAgICAgIGRpdjExLmFwcGVuZENoaWxkKGRpdjExMSk7XG4gICAgICAgIGNvbnN0IGRpdjExMWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2MTExYi5jbGFzc05hbWUgPSAnZmxvYXQtcmlnaHQgbXQtMSc7XG4gICAgICAgIGRpdjExMWIuaW5uZXJIVE1MID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGVkaXRfZGVtb1wiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNlZGl0QXBwTW9kYWxcIj48aSBjbGFzcz1cImZhcyBmYS1jb2cgbXItMlwiPjwvaT48L2J1dHRvbj4nO1xuICAgICAgICBkaXYxMS5hcHBlbmRDaGlsZChkaXYxMTFiKTtcbiAgICAgICAgY29uc3QgZGl2MTExYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYxMTFjLmNsYXNzTmFtZSA9ICdmbG9hdC1yaWdodCBtdC0xJztcbiAgICAgICAgZGl2MTExYy5pbm5lckhUTUwgPSAnPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9USEVPcGxheWVyL3NhbXBsZXMtaHRtbDUtc2RrL3RyZWUvbWFzdGVyL3JlZmVyZW5jZS1hcHBzL3VwbHluay1hcHBcIiB0YXJnZXQ9XCJfYmxhbmtcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIj48aSBjbGFzcz1cImZhYiBmYS1naXRodWIgbXItMlwiPjwvaT48L2E+JztcbiAgICAgICAgZGl2MTEuYXBwZW5kQ2hpbGQoZGl2MTExYyk7XG5cbiAgICAgICAgaWYgKHRoaXMudGFiLmNvbmZpZyAmJiB0aGlzLnRhYi5jb25maWcuZ2VuZXJhbCkge1xuICAgICAgICAgICAgY29uc3QgZ2VuZXJhbCA9IHRoaXMudGFiLmNvbmZpZy5nZW5lcmFsO1xuICAgICAgICAgICAgY29uc3QgcDExMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHAxMTIuY2xhc3NOYW1lID0gJ3RleHQtbXV0ZWQgbXQtMic7XG4gICAgICAgICAgICBwMTEyLnNldEF0dHJpYnV0ZSgnZGF0YS1sb2NhbCcsICdnZW5lcmFsJyk7XG4gICAgICAgICAgICBwMTEyLnRleHRDb250ZW50ID0gJ0dlbmVyYWwnO1xuICAgICAgICAgICAgZGl2MTEuYXBwZW5kQ2hpbGQocDExMik7XG4gICAgICAgICAgICBpZiAoZ2VuZXJhbC5pbmRleE9mKCdjb21pbmctdXAtbm90aWZpY2F0aW9uJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpdjExMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGRpdjExMy5jbGFzc05hbWUgPSBcInN3aXRjaFwiO1xuICAgICAgICAgICAgICAgIGRpdjExMy5pbm5lckhUTUwgPSAnPGxhYmVsPjxpbnB1dCBpZD1cIicrc2x1Z05hbWUrJ19jb250ZW50Tm90aWZpY2F0aW9uXCIgdHlwZT1cImNoZWNrYm94XCIgZGF0YS11cGx5bmtjb25maWc9XCJjb250ZW50Tm90aWZpY2F0aW9uXCIgY2hlY2tlZD48c3BhbiBkYXRhLWxvY2FsPVwiY3VuXCI+Q29taW5nIHVwIG5vdGlmaWNhdGlvbjwvc3Bhbj48L2xhYmVsPic7XG4gICAgICAgICAgICAgICAgZGl2MTEuYXBwZW5kQ2hpbGQoZGl2MTEzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZW5lcmFsLmluZGV4T2YoJ2FkLW5vdGlmaWNhdGlvbicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYxMTQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkaXYxMTQuY2xhc3NOYW1lID0gXCJzd2l0Y2hcIjtcbiAgICAgICAgICAgICAgICBkaXYxMTQuaW5uZXJIVE1MID0gJzxsYWJlbD48aW5wdXQgaWQ9XCInK3NsdWdOYW1lKydfYWROb3RpZmljYXRpb25cIiB0eXBlPVwiY2hlY2tib3hcIiBkYXRhLXVwbHlua2NvbmZpZz1cImFkTm90aWZpY2F0aW9uXCIgY2hlY2tlZD48c3BhbiBkYXRhLWxvY2FsPVwiYW5cIj5BZCBub3RpZmljYXRpb248L3NwYW4+PC9sYWJlbD4nO1xuICAgICAgICAgICAgICAgIGRpdjExLmFwcGVuZENoaWxkKGRpdjExNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VuZXJhbC5pbmRleE9mKCdzaG93LWFzc2V0LW1hcmtlcnMnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2MTE1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZGl2MTE1LmNsYXNzTmFtZSA9IFwic3dpdGNoXCI7XG4gICAgICAgICAgICAgICAgZGl2MTE1LmlubmVySFRNTCA9ICc8bGFiZWw+PGlucHV0IGlkPVwiJytzbHVnTmFtZSsnX2Fzc2V0TWFya2Vyc1wiIHR5cGU9XCJjaGVja2JveFwiIGRhdGEtdXBseW5rY29uZmlnPVwiYXNzZXRNYXJrZXJzXCIgY2hlY2tlZD48c3BhbiBkYXRhLWxvY2FsPVwiYW1cIj5TaG93IGFzc2V0IG1hcmtlcnM8L3NwYW4+PC9sYWJlbD4nO1xuICAgICAgICAgICAgICAgIGRpdjExLmFwcGVuZENoaWxkKGRpdjExNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VuZXJhbC5pbmRleE9mKCdzaG93LWFkLWJyZWFrLW1hcmtlcnMnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2MTE2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZGl2MTE2LmNsYXNzTmFtZSA9IFwic3dpdGNoXCI7XG4gICAgICAgICAgICAgICAgZGl2MTE2LmlubmVySFRNTCA9ICc8bGFiZWw+PGlucHV0IGlkPVwiJytzbHVnTmFtZSsnX2FkQnJlYWtNYXJrZXJzXCIgdHlwZT1cImNoZWNrYm94XCIgZGF0YS11cGx5bmtjb25maWc9XCJhZEJyZWFrTWFya2Vyc1wiIGNoZWNrZWQ+PHNwYW4gZGF0YS1sb2NhbD1cImFibVwiPlNob3cgYWQgYnJlYWsgbWFya2Vyczwvc3Bhbj48L2xhYmVsPic7XG4gICAgICAgICAgICAgICAgZGl2MTEuYXBwZW5kQ2hpbGQoZGl2MTE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50YWIuY29uZmlnICYmIHRoaXMudGFiLmNvbmZpZ1snc2tpcC1vZmZzZXQnXSkge1xuICAgICAgICAgICAgY29uc3QgZGl2MTE3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXYxMTcuY2xhc3NOYW1lID0gXCJmb3JtXCI7XG4gICAgICAgICAgICBkaXYxMTcuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGxhYmVsIGZvcj1cIicrc2x1Z05hbWUrJ19za2lwT2Zmc2V0XCIgZGF0YS1sb2NhbD1cInNvXCI+U2tpcCBPZmZzZXQ8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cIicrc2x1Z05hbWUrJ19za2lwT2Zmc2V0XCIgcGxhY2Vob2xkZXI9XCInK3RoaXMudGFiLmNvbmZpZ1snc2tpcC1vZmZzZXQnXSsnXCIgbWluPVwiLTFcIiBtYXg9XCIxNVwiID48L2Rpdj4nO1xuICAgICAgICAgICAgZGl2MTEuYXBwZW5kQ2hpbGQoZGl2MTE3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50YWIuY29uZmlnICYmIHRoaXMudGFiLmNvbmZpZ1snc2Vlay1vdmVyLWFkJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZWtUeXBlID0gdGhpcy50YWIuY29uZmlnWydzZWVrLW92ZXItYWQnXTtcbiAgICAgICAgICAgIGNvbnN0IHAxMTggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICBwMTE4LmNsYXNzTmFtZSA9ICd0ZXh0LW11dGVkIG10LTInO1xuICAgICAgICAgICAgcDExOC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbG9jYWwnLCAnc29hJyk7XG4gICAgICAgICAgICBwMTE4LnRleHRDb250ZW50ID0gJ1NlZWsgb3ZlciBBZCc7XG4gICAgICAgICAgICBkaXYxMS5hcHBlbmRDaGlsZChwMTE4KTtcblxuICAgICAgICAgICAgY29uc3QgZjExOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgICAgIGYxMTkuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHB0LTBcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhZGlvIGZvcm0tY2hlY2staW5saW5lXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJvcHRpb25zUmFkaW9zXCIgaWQ9XCInK3NsdWdOYW1lKydfb3B0aW9uc1JhZGlvczFcIlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cInBsYXktYWxsXCIgY2hlY2tlZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1sb2NhbD1cInBhXCI+UGxheSBhbGw8L3NwYW4+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhZGlvIGZvcm0tY2hlY2staW5saW5lXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJvcHRpb25zUmFkaW9zXCIgaWQ9XCInK3NsdWdOYW1lKydfb3B0aW9uc1JhZGlvczJcIlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cInBsYXktbm9uZVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtbG9jYWw9XCJwblwiPlBsYXkgbm9uZTwvc3Bhbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmFkaW8gZm9ybS1jaGVjay1pbmxpbmVcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIm9wdGlvbnNSYWRpb3NcIiBpZD1cIicrc2x1Z05hbWUrJ19vcHRpb25zUmFkaW9zM1wiXFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwicGxheS1sYXN0XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1sb2NhbD1cInBsXCI+UGxheSBsYXN0PC9zcGFuPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcbiAgICAgICAgICAgIGRpdjExLmFwcGVuZENoaWxkKGYxMTkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudGFiLmNvbmZpZyAmJiB0aGlzLnRhYi5jb25maWdbJ3F1ZXVlJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbjExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBidXR0b24xMS5jbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdCB3LTEwMCB0ZXh0LWxlZnRcIjtcbiAgICAgICAgICAgIGJ1dHRvbjExLnNldEF0dHJpYnV0ZSgnZGF0YS10b2dnbGUnLCAnY29sbGFwc2UnKTtcbiAgICAgICAgICAgIGJ1dHRvbjExLmhyZWYgPSBcIiNwbGF5bGlzdF9cIiArIHNsdWdOYW1lO1xuICAgICAgICAgICAgYnV0dG9uMTEudGV4dENvbnRlbnQgPSAnUXVldWUnO1xuICAgICAgICAgICAgYnV0dG9uMTEuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgIGJ1dHRvbjExLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsICdwbGF5bGlzdF8nICsgc2x1Z05hbWUpO1xuICAgICAgICAgICAgZGl2MS5hcHBlbmRDaGlsZChidXR0b24xMSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpdjEyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXYxMi5jbGFzc05hbWUgPSBcImNvbGxhcHNlIHNob3dcIjtcbiAgICAgICAgICAgIGRpdjEyLmlkID0gXCJwbGF5bGlzdF9cIiArIHNsdWdOYW1lO1xuICAgICAgICAgICAgZGl2MS5hcHBlbmRDaGlsZChkaXYxMik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGl2MTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZU5vZGUodGFiLCBpbmRleCkge1xuICAgICAgICBjb25zdCB0YWJDb250ZW50ID0gbmV3IFRhYkNvbnRlbnQodGFiLCBpbmRleCk7XG4gICAgICAgIHJldHVybiB0YWJDb250ZW50LmdldE5vZGUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1RhYlRpdGxlfSBmcm9tIFwiLi9UYWJUaXRsZVwiO1xuaW1wb3J0IHtUYWJDb250ZW50fSBmcm9tIFwiLi9UYWJDb250ZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBUYWIge1xuICAgIHN0YXRpYyBjcmVhdGVBbGwodGFicykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0VGFiKHRhYnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBpbnNlcnRUYWIodGFiLCBpbmRleCkge1xuICAgICAgICAvLyB0YWIgdGl0bGVcbiAgICAgICAgY29uc3QgY29udGFpbmVyTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNteVRhYicpO1xuICAgICAgICBjb25zdCB0YWJUaXRsZU5vZGUgPSBUYWJUaXRsZS5jcmVhdGVOb2RlKHRhYiwgaW5kZXgpO1xuICAgICAgICBjb250YWluZXJOb2RlLmFwcGVuZENoaWxkKHRhYlRpdGxlTm9kZSk7XG5cbiAgICAgICAgLy8gdGFiIGNvbnRlbnRcbiAgICAgICAgY29uc3QgY29udGFpbmVyQ29udGVudE5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXlUYWJDb250ZW50Jyk7XG4gICAgICAgIGNvbnN0IHRhYkNvbnRlbnROb2RlID0gVGFiQ29udGVudC5jcmVhdGVOb2RlKHRhYiwgaW5kZXgpO1xuICAgICAgICBjb250YWluZXJDb250ZW50Tm9kZS5hcHBlbmRDaGlsZCh0YWJDb250ZW50Tm9kZSk7XG4gICAgfVxuICAgIHN0YXRpYyBkZXN0cm95QWxsKCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXlUYWInKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI215VGFiQ29udGVudCcpLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgTG9jYWxpemF0aW9uIHtcblxuICAgIHN0YXRpYyBsb2NhbGl6ZUFwcEFwcENvcHlyaWdodChhcHAsIGFwcENvbmZpZ0xhbmd1YWdlKSB7XG4gICAgICAgIGNvbnN0IGxhbmdDb2RlID0gdGhpcy5nZXRMYW5ndWFnZUZyb21RdWVyeVBhcmFtcygpIHx8IGFwcENvbmZpZ0xhbmd1YWdlO1xuICAgICAgICBpZiAobGFuZ0NvZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsTWFwID0gdGhpcy5nZXRBcHBMb2NhbGl6YXRpb25NYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxvY2FsTWFwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbG9jYWw9XCInK2tleSsnXCJdJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxpemVkVmFsdWUgPSBsb2NhbE1hcFtrZXldW2xhbmdDb2RlXTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxpemVkVmFsdWUgJiYgKHNlbGVjdG9ycyAmJiBzZWxlY3RvcnMubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yc1tpXS5pbm5lclRleHQgPSBsb2NhbE1hcFtrZXldW2xhbmdDb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRBcHBMb2NhbGl6YXRpb25NYXAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnZ2VuZXJhbCc6IHtcbiAgICAgICAgICAgICAgICBlbjogJ0dlbmVyYWwnLFxuICAgICAgICAgICAgICAgIGVzOiAnQ29uZmlndXJhY2nDs24nLFxuICAgICAgICAgICAgICAgIGphOiAn5qeL5oiQJyxcbiAgICAgICAgICAgICAgICBubDogJ0FsZ2VtZWVuJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdjdW4nOiB7XG4gICAgICAgICAgICAgICAgZW46ICdDb21pbmcgdXAgbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICBlczogJ05vdGlmaWNhY2nDs24gZGUgY29udGVuaWRvJyxcbiAgICAgICAgICAgICAgICBqYTogJ+OCs+ODs+ODhuODs+ODhOmAmuefpScsXG4gICAgICAgICAgICAgICAgbmw6ICdWaWRlbyBub3RpZmljYXRpZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYW0nOiB7XG4gICAgICAgICAgICAgICAgZW46ICdTaG93IGFzc2V0IG1hcmtlcnMnLFxuICAgICAgICAgICAgICAgIGVzOiAnTWFyY2Fkb3JlcyBkZSBhY3Rpdm9zJyxcbiAgICAgICAgICAgICAgICBqYTogJ+OCouOCu+ODg+ODiOODnuODvOOCq+ODvCcsXG4gICAgICAgICAgICAgICAgbmw6ICdWaWRlbyBtYXJrZXJpbmdlbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYW4nOiB7XG4gICAgICAgICAgICAgICAgZW46ICdBZCBub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgICAgIGVzOiAnTm90aWZpY2FjacOzbiBkZSBwdWJsaWNpZGFkJyxcbiAgICAgICAgICAgICAgICBqYTogJ+W6g+WRiumAmuefpScsXG4gICAgICAgICAgICAgICAgbmw6ICdBZHZlcnRlbnRpZSBub3RpZmljYXRpZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAncXVldWUnOiB7XG4gICAgICAgICAgICAgICAgZW46ICdRdWV1ZScsXG4gICAgICAgICAgICAgICAgZXM6ICdDb2xhJyxcbiAgICAgICAgICAgICAgICBqYTogJ+OCreODpeODvCcsXG4gICAgICAgICAgICAgICAgbmw6ICdMaWpzdCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYWJtJzoge1xuICAgICAgICAgICAgICAgIGVuOiAnU2hvdyBhZCBicmVhayBtYXJrZXJzJyxcbiAgICAgICAgICAgICAgICBlczogJ01hcmNhZG9yZXMgcHVibGljaXRhcmlvcycsXG4gICAgICAgICAgICAgICAgamE6ICfluoPlkYrjg57jg7zjgqvjg7wnLFxuICAgICAgICAgICAgICAgIG5sOiAnQWR2ZXJ0ZW50aWUgbWFya2VyaW5nZW4nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3NvJzoge1xuICAgICAgICAgICAgICAgIGVuOiAnU2tpcCBPZmZzZXQnLFxuICAgICAgICAgICAgICAgIGVzOiAnU2FsdGFyIGRlc3BsYXphbWllbnRvJyxcbiAgICAgICAgICAgICAgICBqYTogJ+OCquODleOCu+ODg+ODiOOCkuOCueOCreODg+ODlycsXG4gICAgICAgICAgICAgICAgbmw6ICdBZHZlcnRlbnRpZXMgT3ZlcnNsYWFuJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzb2EnOiB7XG4gICAgICAgICAgICAgICAgZW46ICdTZWVrIE92ZXIgQWQnLFxuICAgICAgICAgICAgICAgIGVzOiAnQnVzY2FyIEFudW5jaW8nLFxuICAgICAgICAgICAgICAgIGphOiAn5bqD5ZGK44KS5o6i44GZJyxcbiAgICAgICAgICAgICAgICBubDogJ1pvZWtlbiBWb29yYmlqIEFkcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAncGEnOiB7XG4gICAgICAgICAgICAgICAgZW46ICdQbGF5IGFsbCcsXG4gICAgICAgICAgICAgICAgZXM6ICdUb2RvcycsXG4gICAgICAgICAgICAgICAgamE6ICfjgZnjgbnjgaYnLFxuICAgICAgICAgICAgICAgIG5sOiAnQWxsZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAncG4nOiB7XG4gICAgICAgICAgICAgICAgZW46ICdQbGF5IG5vbmUnLFxuICAgICAgICAgICAgICAgIGVzOiAnTmluZ3VuYScsXG4gICAgICAgICAgICAgICAgamE6ICfjgarjgZcnLFxuICAgICAgICAgICAgICAgIG5sOiAnR2VlbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAncGwnOiB7XG4gICAgICAgICAgICAgICAgZW46ICdQbGF5IGxhc3QnLFxuICAgICAgICAgICAgICAgIGVzOiAnw5psdGltYScsXG4gICAgICAgICAgICAgICAgamE6ICfmnIDntYInLFxuICAgICAgICAgICAgICAgIG5sOiAnTGFhdHN0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnY29uZmlndXJhdGlvbic6IHtcbiAgICAgICAgICAgICAgICBlbjogJ0NvbmZpZ3VyYXRpb24nLFxuICAgICAgICAgICAgICAgIGVzOiBcIkNvbmZpZ3VyYWNpw7NuXCIsXG4gICAgICAgICAgICAgICAgamE6ICfmp4vmiJAnLFxuICAgICAgICAgICAgICAgIG5sOiAnSW5zdGVsbGluZ2VuJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdkb3dubG9hZCc6IHtcbiAgICAgICAgICAgICAgICBlbjogJ0Rvd25sb2FkJyxcbiAgICAgICAgICAgICAgICBlczogJ0Rlc2NhcmdhcicsXG4gICAgICAgICAgICAgICAgamE6ICfjg4Djgqbjg7Pjg63jg7zjg4knLFxuICAgICAgICAgICAgICAgIG5sOiAnRG93bmxvYWQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3Jlc2V0Jzoge1xuICAgICAgICAgICAgICAgIGVuOiAnUmVzZXQnLFxuICAgICAgICAgICAgICAgIGVzOiAnUmVpbmljaWFyJyxcbiAgICAgICAgICAgICAgICBqYTogJ+ODquOCu+ODg+ODiCcsXG4gICAgICAgICAgICAgICAgbmw6ICdIZXJzdGVsbGVuJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzYXZlJzoge1xuICAgICAgICAgICAgICAgIGVuOiAnU2F2ZSBjaGFuZ2VzJyxcbiAgICAgICAgICAgICAgICBlczogJ1NhbHZhcicsXG4gICAgICAgICAgICAgICAgamE6ICfjgrvjg7zjg5YnLFxuICAgICAgICAgICAgICAgIG5sOiAnT3BzbGFhbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRMYW5ndWFnZUZyb21RdWVyeVBhcmFtcygpIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgJ1xcXFwkJicpO1xuICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCdbPyZdJyArIG5hbWUgKyAnKD0oW14mI10qKXwmfCN8JCknKSxcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IGdldFBhcmFtZXRlckJ5TmFtZSgnbGFuZycpO1xuICAgICAgICByZXR1cm4gKGxhbmd1YWdlICYmIGxhbmd1YWdlLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gYWRkcyBhIGxhbmd1YWdlIGlmIHRoZSAnbGFuZycgcXVlcnkgcGFyYW1ldGVyIGlzIHZhbGlkLlxuICAgICAqIEl0IGZhbGxzIGJhY2sgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyZWQgaW4gdGhlIGFwcENvbmZpZyBKU09OLlxuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2UgY29kZSBpZiBhIGxhbmd1YWdlIHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0U2VsZWN0ZWRMYW5ndWFnZShhcHAsIGFwcENvbmZpZ0xhbmd1YWdlKSB7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlQ29kZSA9IHRoaXMuZ2V0TGFuZ3VhZ2VGcm9tUXVlcnlQYXJhbXMoKSB8fCBhcHBDb25maWdMYW5ndWFnZTtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSB0aGlzLmdldFZqc0xhbmd1YWdlKGxhbmd1YWdlQ29kZSk7XG4gICAgICAgIGlmIChsYW5ndWFnZSkge1xuICAgICAgICAgICAgVEhFT3BsYXllci52aWRlb2pzLmFkZExhbmd1YWdlKGxhbmd1YWdlQ29kZSwgbGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYW5ndWFnZSAmJiBsYW5ndWFnZUNvZGU7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFZqc0xhbmd1YWdlKGxhbmd1YWdlQ29kZSkge1xuICAgICAgICBjb25zdCBsYW5ndWFnZXMgPSB7XG4gICAgICAgICAgICBcImVzXCI6IHtcbiAgICAgICAgICAgICAgICBcIlBsYXlcIjogXCJSZXByb2R1Y2Npw7NuXCIsXG4gICAgICAgICAgICAgICAgXCJQYXVzZVwiOiBcIlBhdXNhXCIsXG4gICAgICAgICAgICAgICAgXCJDdXJyZW50IFRpbWVcIjogXCJUaWVtcG8gcmVwcm9kdWNpZG9cIixcbiAgICAgICAgICAgICAgICBcIkR1cmF0aW9uIFRpbWVcIjogXCJEdXJhY2nDs24gdG90YWxcIixcbiAgICAgICAgICAgICAgICBcIlJlbWFpbmluZyBUaW1lXCI6IFwiVGllbXBvIHJlc3RhbnRlXCIsXG4gICAgICAgICAgICAgICAgXCJTdHJlYW0gVHlwZVwiOiBcIlRpcG8gZGUgc2VjdWVuY2lhXCIsXG4gICAgICAgICAgICAgICAgXCJMSVZFXCI6IFwiRElSRUNUT1wiLFxuICAgICAgICAgICAgICAgIFwiTG9hZGVkXCI6IFwiQ2FyZ2Fkb1wiLFxuICAgICAgICAgICAgICAgIFwiUHJvZ3Jlc3NcIjogXCJQcm9ncmVzb1wiLFxuICAgICAgICAgICAgICAgIFwiRnVsbHNjcmVlblwiOiBcIlBhbnRhbGxhIGNvbXBsZXRhXCIsXG4gICAgICAgICAgICAgICAgXCJOb24tRnVsbHNjcmVlblwiOiBcIlBhbnRhbGxhIG5vIGNvbXBsZXRhXCIsXG4gICAgICAgICAgICAgICAgXCJNdXRlXCI6IFwiU2lsZW5jaWFyXCIsXG4gICAgICAgICAgICAgICAgXCJVbm11dGVcIjogXCJObyBzaWxlbmNpYWRvXCIsXG4gICAgICAgICAgICAgICAgXCJQbGF5YmFjayBSYXRlXCI6IFwiVmVsb2NpZGFkIGRlIHJlcHJvZHVjY2nDs25cIixcbiAgICAgICAgICAgICAgICBcIlN1YnRpdGxlc1wiOiBcIlN1YnTDrXR1bG9zXCIsXG4gICAgICAgICAgICAgICAgXCJzdWJ0aXRsZXMgb2ZmXCI6IFwiU3VidMOtdHVsb3MgZGVzYWN0aXZhZG9zXCIsXG4gICAgICAgICAgICAgICAgXCJDYXB0aW9uc1wiOiBcIlN1YnTDrXR1bG9zIGVzcGVjaWFsZXNcIixcbiAgICAgICAgICAgICAgICBcImNhcHRpb25zIG9mZlwiOiBcIlN1YnTDrXR1bG9zIGVzcGVjaWFsZXMgZGVzYWN0aXZhZG9zXCIsXG4gICAgICAgICAgICAgICAgXCJDaGFwdGVyc1wiOiBcIkNhcMOtdHVsb3NcIixcbiAgICAgICAgICAgICAgICBcIllvdSBhYm9ydGVkIHRoZSBtZWRpYSBwbGF5YmFja1wiOiBcIkhhIGludGVycnVtcGlkbyBsYSByZXByb2R1Y2Npw7NuIGRlbCB2w61kZW8uXCIsXG4gICAgICAgICAgICAgICAgXCJBIG5ldHdvcmsgZXJyb3IgY2F1c2VkIHRoZSBtZWRpYSBkb3dubG9hZCB0byBmYWlsIHBhcnQtd2F5LlwiOiBcIlVuIGVycm9yIGRlIHJlZCBoYSBpbnRlcnJ1bXBpZG8gbGEgZGVzY2FyZ2EgZGVsIHbDrWRlby5cIixcbiAgICAgICAgICAgICAgICBcIlRoZSBtZWRpYSBjb3VsZCBub3QgYmUgbG9hZGVkLCBlaXRoZXIgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgdGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLlwiOiBcIk5vIHNlIGhhIHBvZGlkbyBjYXJnYXIgZWwgdsOtZGVvIGRlYmlkbyBhIHVuIGZhbGxvIGRlIHJlZCBvIGRlbCBzZXJ2aWRvciBvIHBvcnF1ZSBlbCBmb3JtYXRvIGVzIGluY29tcGF0aWJsZS5cIixcbiAgICAgICAgICAgICAgICBcIlRoZSBtZWRpYSBwbGF5YmFjayB3YXMgYWJvcnRlZCBkdWUgdG8gYSBjb3JydXB0aW9uIHByb2JsZW0gb3IgYmVjYXVzZSB0aGUgbWVkaWEgdXNlZCBmZWF0dXJlcyB5b3VyIGJyb3dzZXIgZGlkIG5vdCBzdXBwb3J0LlwiOiBcIkxhIHJlcHJvZHVjY2nDs24gZGUgdsOtZGVvIHNlIGhhIGludGVycnVtcGlkbyBwb3IgdW4gcHJvYmxlbWEgZGUgY29ycnVwY2nDs24gZGUgZGF0b3MgbyBwb3JxdWUgZWwgdsOtZGVvIHByZWNpc2EgZnVuY2lvbmVzIHF1ZSBzdSBuYXZlZ2Fkb3Igbm8gb2ZyZWNlLlwiLFxuICAgICAgICAgICAgICAgIFwiTm8gY29tcGF0aWJsZSBzb3VyY2Ugd2FzIGZvdW5kIGZvciB0aGlzIG1lZGlhLlwiOiBcIk5vIHNlIGhhIGVuY29udHJhZG8gbmluZ3VuYSBmdWVudGUgY29tcGF0aWJsZSBjb24gZXN0ZSB2w61kZW8uXCIsXG4gICAgICAgICAgICAgICAgXCJTZXR0aW5nc1wiOiBcIkNvbmZpZ3VyYWNpw7NuXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImphXCI6IHtcbiAgICAgICAgICAgICAgICBcIlBsYXlcIjogXCLlho3nlJ9cIixcbiAgICAgICAgICAgICAgICBcIlBhdXNlXCI6IFwi5LiA5pmC5YGc5q2iXCIsXG4gICAgICAgICAgICAgICAgXCJDdXJyZW50IFRpbWVcIjogXCLnj77lnKjjga7mmYLplpNcIixcbiAgICAgICAgICAgICAgICBcIkR1cmF0aW9uIFRpbWVcIjogXCLplbfjgZVcIixcbiAgICAgICAgICAgICAgICBcIlJlbWFpbmluZyBUaW1lXCI6IFwi5q6L44KK44Gu5pmC6ZaTXCIsXG4gICAgICAgICAgICAgICAgXCJTdHJlYW0gVHlwZVwiOiBcIuOCueODiOODquODvOODoOOBrueorumhnlwiLFxuICAgICAgICAgICAgICAgIFwiTElWRVwiOiBcIuODqeOCpOODllwiLFxuICAgICAgICAgICAgICAgIFwiTG9hZGVkXCI6IFwi44Ot44O844OJ5riI44G/XCIsXG4gICAgICAgICAgICAgICAgXCJQcm9ncmVzc1wiOiBcIumAsuihjOeKtuazgVwiLFxuICAgICAgICAgICAgICAgIFwiRnVsbHNjcmVlblwiOiBcIuODleODq+OCueOCr+ODquODvOODs1wiLFxuICAgICAgICAgICAgICAgIFwiTm9uLUZ1bGxzY3JlZW5cIjogXCLjg5Xjg6vjgrnjgq/jg6rjg7zjg7Pku6XlpJZcIixcbiAgICAgICAgICAgICAgICBcIk11dGVcIjogXCLjg5/jg6Xjg7zjg4hcIixcbiAgICAgICAgICAgICAgICBcIlVubXV0ZVwiOiBcIuODn+ODpeODvOODiOino+mZpFwiLFxuICAgICAgICAgICAgICAgIFwiUGxheWJhY2sgUmF0ZVwiOiBcIuWGjeeUn+ODrOODvOODiFwiLFxuICAgICAgICAgICAgICAgIFwiU3VidGl0bGVzXCI6IFwi44K144OW44K/44Kk44OI44OrXCIsXG4gICAgICAgICAgICAgICAgXCJzdWJ0aXRsZXMgb2ZmXCI6IFwi44K144OW44K/44Kk44OI44OrIOOCquODlVwiLFxuICAgICAgICAgICAgICAgIFwiQ2FwdGlvbnNcIjogXCLjgq3jg6Pjg5fjgrfjg6fjg7NcIixcbiAgICAgICAgICAgICAgICBcImNhcHRpb25zIG9mZlwiOiBcIuOCreODo+ODl+OCt+ODp+ODsyDjgqrjg5VcIixcbiAgICAgICAgICAgICAgICBcIkNoYXB0ZXJzXCI6IFwi44OB44Oj44OX44K/44O8XCIsXG4gICAgICAgICAgICAgICAgXCJZb3UgYWJvcnRlZCB0aGUgbWVkaWEgcGxheWJhY2tcIjogXCLli5XnlLvlho3nlJ/jgpLkuK3mraLjgZfjgb7jgZfjgZ9cIixcbiAgICAgICAgICAgICAgICBcIkEgbmV0d29yayBlcnJvciBjYXVzZWQgdGhlIG1lZGlhIGRvd25sb2FkIHRvIGZhaWwgcGFydC13YXkuXCI6IFwi44ON44OD44OI44Ov44O844KvIOOCqOODqeODvOOBq+OCiOOCiuWLleeUu+OBruODgOOCpuODs+ODreODvOODieOBjOmAlOS4reOBp+WkseaVl+OBl+OBvuOBl+OBn1wiLFxuICAgICAgICAgICAgICAgIFwiVGhlIG1lZGlhIGNvdWxkIG5vdCBiZSBsb2FkZWQsIGVpdGhlciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29yayBmYWlsZWQgb3IgYmVjYXVzZSB0aGUgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuXCI6IFwi44K144O844OQ44O844G+44Gf44Gv44ON44OD44OI44Ov44O844Kv44Gu44Ko44Op44O844CB44G+44Gf44Gv44OV44Kp44O844Oe44OD44OI44GM44K144Od44O844OI44GV44KM44Gm44GE44Gq44GE44Gf44KB44CB5YuV55S744KS44Ot44O844OJ44Gn44GN44G+44Gb44KT44Gn44GX44GfXCIsXG4gICAgICAgICAgICAgICAgXCJUaGUgbWVkaWEgcGxheWJhY2sgd2FzIGFib3J0ZWQgZHVlIHRvIGEgY29ycnVwdGlvbiBwcm9ibGVtIG9yIGJlY2F1c2UgdGhlIG1lZGlhIHVzZWQgZmVhdHVyZXMgeW91ciBicm93c2VyIGRpZCBub3Qgc3VwcG9ydC5cIjogXCLnoLTmkI3jga7llY/poYzjgIHjgb7jgZ/jga/jgYrkvb/jgYTjga7jg5bjg6njgqbjgrbjgYzjgrXjg53jg7zjg4jjgZfjgabjgYTjgarjgYTmqZ/og73jgYzli5XnlLvjgavkvb/nlKjjgZXjgozjgabjgYTjgZ/jgZ/jgoHjgIHli5XnlLvjga7lho3nlJ/jgYzkuK3mraLjgZXjgozjgb7jgZfjgZ9cIixcbiAgICAgICAgICAgICAgICBcIk5vIGNvbXBhdGlibGUgc291cmNlIHdhcyBmb3VuZCBmb3IgdGhpcyBtZWRpYS5cIjogXCLjgZPjga7li5XnlLvjgavlr77jgZfjgabkupLmj5vmgKfjga7jgYLjgovjgr3jg7zjgrnjgYzopovjgaTjgYvjgorjgb7jgZvjgpPjgafjgZfjgZ9cIixcbiAgICAgICAgICAgICAgICBcIlNldHRpbmdzXCI6IFwi5qeL5oiQXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIm5sXCI6IHtcbiAgICAgICAgICAgICAgICBcIlBsYXlcIjogXCJBZnNwZWxlblwiLFxuICAgICAgICAgICAgICAgIFwiUGF1c2VcIjogXCJQYXV6ZVwiLFxuICAgICAgICAgICAgICAgIFwiQ3VycmVudCBUaW1lXCI6IFwiSHVpZGlnZSB0aWpkXCIsXG4gICAgICAgICAgICAgICAgXCJEdXJhdGlvbiBUaW1lXCI6IFwiTG9vcHRpamRcIixcbiAgICAgICAgICAgICAgICBcIlJlbWFpbmluZyBUaW1lXCI6IFwiUmVzdGVyZW5kZSB0aWpkXCIsXG4gICAgICAgICAgICAgICAgXCJTdHJlYW0gVHlwZVwiOiBcIlN0cmVhbXR5cGVcIixcbiAgICAgICAgICAgICAgICBcIkxJVkVcIjogXCJMSVZFXCIsXG4gICAgICAgICAgICAgICAgXCJMb2FkZWRcIjogXCJHZWxhZGVuXCIsXG4gICAgICAgICAgICAgICAgXCJQcm9ncmVzc1wiOiBcIlN0YXR1c1wiLFxuICAgICAgICAgICAgICAgIFwiRnVsbHNjcmVlblwiOiBcIlZvbGxlZGlnIHNjaGVybVwiLFxuICAgICAgICAgICAgICAgIFwiTm9uLUZ1bGxzY3JlZW5cIjogXCJHZWVuIHZvbGxlZGlnIHNjaGVybVwiLFxuICAgICAgICAgICAgICAgIFwiTXV0ZVwiOiBcIkdlbHVpZCB1aXRcIixcbiAgICAgICAgICAgICAgICBcIlVubXV0ZVwiOiBcIkdlbHVpZCBhYW5cIixcbiAgICAgICAgICAgICAgICBcIlBsYXliYWNrIFJhdGVcIjogXCJXZWVyZ2F2ZXNuZWxoZWlkXCIsXG4gICAgICAgICAgICAgICAgXCJTdWJ0aXRsZXNcIjogXCJPbmRlcnRpdGVsaW5nXCIsXG4gICAgICAgICAgICAgICAgXCJzdWJ0aXRsZXMgb2ZmXCI6IFwib25kZXJ0aXRlbGluZyB1aXRcIixcbiAgICAgICAgICAgICAgICBcIkNhcHRpb25zXCI6IFwiQmlqc2NocmlmdGVuXCIsXG4gICAgICAgICAgICAgICAgXCJjYXB0aW9ucyBvZmZcIjogXCJiaWpzY2hyaWZ0ZW4gdWl0XCIsXG4gICAgICAgICAgICAgICAgXCJDaGFwdGVyc1wiOiBcIkhvb2Zkc3R1a2tlblwiLFxuICAgICAgICAgICAgICAgIFwiRGVzY3JpcHRpb25zXCI6IFwiQmVzY2hyaWp2aW5nZW5cIixcbiAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9ucyBvZmZcIjogXCJiZXNjaHJpanZpbmdlbiBvZmZcIixcbiAgICAgICAgICAgICAgICBcIllvdSBhYm9ydGVkIHRoZSBtZWRpYSBwbGF5YmFja1wiOiBcIlUgaGVidCBkZSBtZWRpYXdlZXJnYXZlIGFmZ2Vicm9rZW4uXCIsXG4gICAgICAgICAgICAgICAgXCJBIG5ldHdvcmsgZXJyb3IgY2F1c2VkIHRoZSBtZWRpYSBkb3dubG9hZCB0byBmYWlsIHBhcnQtd2F5LlwiOiBcIkRlIG1lZGlhZG93bmxvYWQgaXMgbWlzbHVrdCBkb29yIGVlbiBuZXR3ZXJrZm91dC5cIixcbiAgICAgICAgICAgICAgICBcIlRoZSBtZWRpYSBjb3VsZCBub3QgYmUgbG9hZGVkLCBlaXRoZXIgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgdGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLlwiOiBcIkRlIG1lZGlhIGtvbiBuaWV0IHdvcmRlbiBnZWxhZGVuLCB2YW53ZWdlIGVlbiBzZXJ2ZXItIG9mIG5ldHdlcmtmb3V0IG9mIGRvb3JkYXQgaGV0IGZvcm1hYXQgbmlldCB3b3JkdCBvbmRlcnN0ZXVuZC5cIixcbiAgICAgICAgICAgICAgICBcIlRoZSBtZWRpYSBwbGF5YmFjayB3YXMgYWJvcnRlZCBkdWUgdG8gYSBjb3JydXB0aW9uIHByb2JsZW0gb3IgYmVjYXVzZSB0aGUgbWVkaWEgdXNlZCBmZWF0dXJlcyB5b3VyIGJyb3dzZXIgZGlkIG5vdCBzdXBwb3J0LlwiOiBcIkRlIG1lZGlhd2VlcmdhdmUgaXMgYWZnZWJyb2tlbiB2YW53ZWdlIGJlc2NoYWRpZ2RlIGRhdGEgb2YgaGV0IG1lZGlhYmVzdGFuZCBnZWJydWlrdCBmdW5jdGllcyBkaWUgbmlldCBkb29yIHV3IGJyb3dzZXIgd29yZGVuIG9uZGVyc3RldW5kLlwiLFxuICAgICAgICAgICAgICAgIFwiTm8gY29tcGF0aWJsZSBzb3VyY2Ugd2FzIGZvdW5kIGZvciB0aGlzIG1lZGlhLlwiOiBcIlZvb3IgZGV6ZSBtZWRpYSBpcyBnZWVuIG9uZGVyc3RldW5kZSBicm9uIGdldm9uZGVuLlwiLFxuICAgICAgICAgICAgICAgIFwiUGxheSBWaWRlb1wiOiBcIlZpZGVvIEFmc3BlbGVuXCIsXG4gICAgICAgICAgICAgICAgXCJDbG9zZVwiOiBcIlNsdWl0ZW5cIixcbiAgICAgICAgICAgICAgICBcIk1vZGFsIFdpbmRvd1wiOiBcIk1vZGFsIFZlbnN0ZXJcIixcbiAgICAgICAgICAgICAgICBcIlRoaXMgaXMgYSBtb2RhbCB3aW5kb3dcIjogXCJEaXQgaXMgZWVuIG1vZGFhbCB2ZW5zdGVyXCIsXG4gICAgICAgICAgICAgICAgXCJUaGlzIG1vZGFsIGNhbiBiZSBjbG9zZWQgYnkgcHJlc3NpbmcgdGhlIEVzY2FwZSBrZXkgb3IgYWN0aXZhdGluZyB0aGUgY2xvc2UgYnV0dG9uLlwiOiBcIkRpdCBtb2RhYWwgdmVuc3RlciBrYW4gZ2VzbG90ZW4gd29yZGVuIGRvb3Igb3AgRXNjYXBlIHRlIGRydWtrZW4gb2YgZGUgJ3NsdWl0ZW4nIGtub3AgdGUgYWN0aXZlcmVuLlwiLFxuICAgICAgICAgICAgICAgIFwiLCBvcGVucyBjYXB0aW9ucyBzZXR0aW5ncyBkaWFsb2dcIjogXCIsIG9wZW50IGJpanNjaHJpZnRlbiBpbnN0ZWxsaW5nZW4gdmVuc3RlclwiLFxuICAgICAgICAgICAgICAgIFwiLCBvcGVucyBzdWJ0aXRsZXMgc2V0dGluZ3MgZGlhbG9nXCI6IFwiLCBvcGVudCBvbmRlcnRpdGVsaW5nIGluc3RlbGxpbmdlbiB2ZW5zdGVyXCIsXG4gICAgICAgICAgICAgICAgXCIsIG9wZW5zIGRlc2NyaXB0aW9ucyBzZXR0aW5ncyBkaWFsb2dcIjogXCIsIG9wZW50IGJlc2NocmlqdmluZ2VuIGluc3RlbGxpbmdlbiB2ZW5zdGVyXCIsXG4gICAgICAgICAgICAgICAgXCIsIHNlbGVjdGVkXCI6IFwiLCBzZWxlY3RlZFwiLFxuICAgICAgICAgICAgICAgIFwiU2V0dGluZ3NcIjogXCJJbnN0ZWxsaW5nZW5cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2VzW2xhbmd1YWdlQ29kZV07XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge1RhYn0gZnJvbSBcIi4vdGFiL1RhYlwiO1xuaW1wb3J0IHtVdGlsfSBmcm9tIFwiLi4vVXRpbFwiO1xuXG5leHBvcnQgY2xhc3MgQXBwTW9kYWwge1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zdCBhcHAgPSB0aGlzLmFwcDtcbiAgICAgICAgdGhpcy5pbml0U2F2ZUJ1dHRvbkxpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMuaW5pdFJlc2V0QnV0dG9uTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5pbml0RG93bmxvYWRCdXR0b25MaXN0ZW5lcigpO1xuICAgICAgICBsZXQgY29uZmlnSW5Mb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXBwQ29uZmlnJyk7XG4gICAgICAgIGlmIChjb25maWdJbkxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgY29uZmlnSW5Mb2NhbFN0b3JhZ2UgPSBKU09OLnBhcnNlKGNvbmZpZ0luTG9jYWxTdG9yYWdlKTtcbiAgICAgICAgICAgIGFwcC5hcHBDb25maWcgPSBjb25maWdJbkxvY2FsU3RvcmFnZTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdEFwcE1vZGFsIHRleHRhcmVhJykudmFsdWUgPSBKU09OLnN0cmluZ2lmeShhcHAuYXBwQ29uZmlnLCBudWxsLCBcIlxcdFwiKTtcbiAgICB9XG5cbiAgICBpbml0U2F2ZUJ1dHRvbkxpc3RlbmVyKCkge1xuICAgICAgICBjb25zdCBhcHAgPSB0aGlzLmFwcDtcbiAgICAgICAgY29uc3Qgc2F2ZUFwcENvbmZpZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlLWFwcC1jb25maWcnKTtcbiAgICAgICAgc2F2ZUFwcENvbmZpZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGxldCBuZXdDb25maWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdEFwcE1vZGFsIHRleHRhcmVhJyk7XG4gICAgICAgICAgICBpZiAobmV3Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgbmV3Q29uZmlnID0gSlNPTi5wYXJzZShuZXdDb25maWcudmFsdWUpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhcHBDb25maWcnLCBKU09OLnN0cmluZ2lmeShuZXdDb25maWcpKTtcbiAgICAgICAgICAgICAgICBUYWIuZGVzdHJveUFsbCgpO1xuICAgICAgICAgICAgICAgIGFwcC5hcHBDb25maWcgPSBuZXdDb25maWc7XG4gICAgICAgICAgICAgICAgYXBwLmluaXQoKTtcbiAgICAgICAgICAgICAgICAkKCcuc3dpdGNoJykuYm9vdHN0cmFwTWF0ZXJpYWxEZXNpZ24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdFJlc2V0QnV0dG9uTGlzdGVuZXIoKSB7XG4gICAgICAgIGNvbnN0IHJlc2V0QXBwQ29uZmlnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc2V0LWFwcC1jb25maWcnKTtcbiAgICAgICAgcmVzZXRBcHBDb25maWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXBwQ29uZmlnJyk7XG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdERvd25sb2FkQnV0dG9uTGlzdGVuZXIoKSB7XG4gICAgICAgIGNvbnN0IGRvd25sb2FkQXBwQ29uZmlnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rvd25sb2FkLWFwcC1jb25maWcnKTtcbiAgICAgICAgZG93bmxvYWRBcHBDb25maWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudENvbmZpZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0QXBwTW9kYWwgdGV4dGFyZWEnKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENvbmZpZyA9IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UoY3VycmVudENvbmZpZy52YWx1ZSksIG51bGwsIFwiXFx0XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgQmxvYihbY3VycmVudENvbmZpZ10sIHt0eXBlOiAnYXBwbGljYXRpb24vanNvbid9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RmlsZSA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGEpO1xuICAgICAgICAgICAgICAgIFV0aWwuZG93bmxvYWRVUkkodGV4dEZpbGUsIFwidXBseW5rQXBwQ29uZmlnLmpzb25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQbGF5bGlzdCB7XG4gICAgc3RhdGljIGFkZEl0ZW0oaXRlbSwgaW5kZXgsIHRhYk5hbWUpIHtcbiAgICAgICAgY29uc3QgaHRtbCA9XG4gICAgICAgICAgICBcIjxidXR0b24gY2xhc3M9J2J0biBidG4tZGVmYXVsdCB3LTEwMCB0ZXh0LWxlZnQgbWItMycgaWQ9J2l0ZW1fXCIgKyBpdGVtLmFzc2V0ICsgXCInPlwiXG4gICAgICAgICAgICArIFwiPGRpdiBjbGFzcz0nbWVkaWEnPlwiXG4gICAgICAgICAgICArIFwiPGltZyBzcmM9J1wiICsgaXRlbS5wb3N0ZXJfdXJsICsgXCInXCJcbiAgICAgICAgICAgICsgXCJjbGFzcz0nbXItMycgYWx0PSdcIiArIGl0ZW0uZGVzYyArIFwiJz5cIlxuICAgICAgICAgICAgKyBcIjxkaXYgY2xhc3M9J21lZGlhLWJvZHknPlwiICsgaXRlbS5kZXNjICsgXCI8L2Rpdj5cIlxuICAgICAgICAgICAgKyBcIjwvZGl2PlwiXG4gICAgICAgICAgICArIFwiPC9idXR0b24+XCI7XG5cbiAgICAgICAgY29uc3QgaXRlbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaXRlbUVsZW1lbnQub25jbGljayA9IGl0ZW0uY2xpY2tDYWxsYmFjaztcbiAgICAgICAgaXRlbUVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgY29uc3QgcGxheWxpc3RJZCA9IFwicGxheWxpc3RfXCIgKyB0YWJOYW1lO1xuICAgICAgICBjb25zdCBwbGF5bGlzdE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwbGF5bGlzdElkKTtcbiAgICAgICAgaWYgKHBsYXlsaXN0Tm9kZSkge1xuICAgICAgICAgICAgcGxheWxpc3ROb2RlLmFwcGVuZENoaWxkKGl0ZW1FbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY2xlYXIoaW5kZXgsIHRhYk5hbWUpIHtcbiAgICAgICAgY29uc3QgcGxheWxpc3RJZCA9IFwicGxheWxpc3RfXCIgKyB0YWJOYW1lO1xuICAgICAgICBjb25zdCBwbGF5bGlzdE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwbGF5bGlzdElkKTtcbiAgICAgICAgaWYgKHBsYXlsaXN0Tm9kZSkge1xuICAgICAgICAgICAgcGxheWxpc3ROb2RlLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB1cGRhdGVBY3RpdmVJdGVtKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgYWxsTWVkaWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVkaWEnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxNZWRpYS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYWxsTWVkaWFbaV0ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtYXNzZXQnKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBsYXlsaXN0SXRlbU1hdGNoaW5nQ3VycmVudEFzc2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1wYW5lLmFjdGl2ZSAubWVkaWEnKVtpdGVtLmluZGV4XTtcbiAgICAgICAgaWYgKHBsYXlsaXN0SXRlbU1hdGNoaW5nQ3VycmVudEFzc2V0KSB7XG4gICAgICAgICAgICBwbGF5bGlzdEl0ZW1NYXRjaGluZ0N1cnJlbnRBc3NldC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1hc3NldCcpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3VycmVudEFzc2V0RGVzY3JpcHRpb25cIikuaW5uZXJUZXh0ID0gaXRlbS5yZXNvdXJjZS5kZXNjcmlwdGlvbjtcbiAgICB9XG59IiwiaW1wb3J0IHtQbGF5bGlzdH0gZnJvbSBcIi4vdWkvUGxheWxpc3RcIjtcbmltcG9ydCB7TG9jYWxpemF0aW9ufSBmcm9tIFwiLi9sb2NhbGl6YXRpb24vTG9jYWxpemF0aW9uXCI7XG5pbXBvcnQge1V0aWx9IGZyb20gXCIuL1V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFBsYXllclV0aWwge1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLnRoZW9wbGF5ZXJSZWYgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucGxheWxpc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYWRCcmVha3MgPSBbXTtcbiAgICB9XG5cbiAgICBpbml0UGxheWVyKHNvdXJjZUluZGV4KSB7XG4gICAgICAgIGNvbnN0IF9zZWxmID0gdGhpcztcbiAgICAgICAgY29uc3QgYXBwID0gdGhpcy5hcHA7XG5cbiAgICAgICAgX3NlbGYucGxheWxpc3QgPSBbXTtcbiAgICAgICAgUGxheWxpc3QuY2xlYXIoYXBwLnNvdXJjZUluZGV4LCBVdGlsLnNsdWcoYXBwLmFwcENvbmZpZy50YWJzW2FwcC5zb3VyY2VJbmRleF0ubmFtZSkpO1xuXG4gICAgICAgIGlmICh0aGlzLnRoZW9wbGF5ZXJSZWYpIHtcbiAgICAgICAgICAgIHRoaXMudGhlb3BsYXllclJlZi5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW9wbGF5ZXItY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMuY3JlYXRlVEhFT3BsYXllckluZm8oZWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy50aGVvcGxheWVyUmVmID0gbmV3IFRIRU9wbGF5ZXIuUGxheWVyKGVsZW1lbnQsIHtcbiAgICAgICAgICAgIGxpYnJhcnlMb2NhdGlvbjogJy8vY2RuLnRoZW9wbGF5ZXIuY29tL2Rhc2gvdGhlb3BsYXllci8nLFxuICAgICAgICAgICAgdXBseW5rOiB7XG4gICAgICAgICAgICAgICAgb25TZWVrT3ZlckFkOiBhcHAuY29uZmlnLnVwbHluay5zZWVrT3ZlckFkLFxuICAgICAgICAgICAgICAgIHVpOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnROb3RpZmljYXRpb246IGFwcC5jb25maWcudXBseW5rLmNvbnRlbnROb3RpZmljYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGFkTm90aWZpY2F0aW9uOiBhcHAuY29uZmlnLnVwbHluay5hZE5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRNYXJrZXJzOiBhcHAuY29uZmlnLnVwbHluay5hc3NldE1hcmtlcnMsXG4gICAgICAgICAgICAgICAgICAgIGFkQnJlYWtNYXJrZXJzOiBhcHAuY29uZmlnLnVwbHluay5hZEJyZWFrTWFya2VycyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTa2lwT2Zmc2V0OiBhcHAuY29uZmlnLnVwbHluay5kZWZhdWx0U2tpcE9mZnNldFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVpOiB7XG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IExvY2FsaXphdGlvbi5nZXRTZWxlY3RlZExhbmd1YWdlKGFwcCwgIGFwcC5hcHBDb25maWcubGFuZ3VhZ2UpIC8vIHRoaXMuZ2V0U2VsZWN0ZWRMYW5ndWFnZSgpIC8vIG9ubHkgZW4sIGphLCBlcywgbmwgYXJlIHN1cHBvcnRlZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcnNpc3RWb2x1bWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ3VzdG9tSWNvbih0aGlzLnRoZW9wbGF5ZXJSZWYpO1xuXG4gICAgICAgIHRoaXMudGhlb3BsYXllclJlZi5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIHRoaXMudGhlb3BsYXllclJlZi5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICAvLyB0aGlzLnRoZW9wbGF5ZXJSZWYubXV0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUluZGV4KTtcbiAgICAgICAgaWYgKHRoaXMuaXNMaXZlU3RyZWFtKHNvdXJjZSkpe1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdsaXZlcGxheWVyJylcbiAgICAgICAgICAgIGxldCBsaXZlUmVzZXRDaGVjayA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRoZW9wbGF5ZXJSZWYuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2VDdXJyZW50VGltZUxpdmVwb2ludCA9IHRoaXMuc2Vla2FibGUuZW5kKCkgLSB0aGlzLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIGlmKGxpdmVSZXNldENoZWNrICYmIGRpZmZlcmVuY2VDdXJyZW50VGltZUxpdmVwb2ludD42MCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy50aGVvcGxheWVyUmVmLnVwbHluay5hZHMuYWRCcmVha3MuYWRkRXZlbnRMaXN0ZW5lcignYWRkYWRicmVhaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LmFkQnJlYWsuYWRkRXZlbnRMaXN0ZW5lcignYWRicmVha2JlZ2luJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgbGl2ZVJlc2V0Q2hlY2sgPSBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGV2ZW50LmFkQnJlYWsuYWRkRXZlbnRMaXN0ZW5lcignYWRicmVha2VuZCcsICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBsaXZlUmVzZXRDaGVjayA9IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXZlcGxheWVyJykpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbGl2ZXBsYXllcicpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRoZW9wbGF5ZXJSZWYudXBseW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2Fzc2V0aW5mb3Jlc3BvbnNlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF9zZWxmLmFkZE1ldGFkYXRhVG9QbGF5bGlzdChlLnJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50aGVvcGxheWVyUmVmLnVwbHluay5hZHMuYWRCcmVha3MuYWRkRXZlbnRMaXN0ZW5lcignYWRkYWRicmVhaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3NlbGYuYWRCcmVha3MucHVzaChldmVudC5hZEJyZWFrKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBoaWdobGlnaHRpbmcgb2YgdGhlIHBsYXlsaXN0XG4gICAgICAgIHRoaXMuY3VycmVudEFzc2V0ID0gLTE7XG4gICAgICAgIHRoaXMudGhlb3BsYXllclJlZi5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfc2VsZi51cGRhdGVBY3RpdmVBc3NldCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZVF1YWxpdHkodGhpcy50aGVvcGxheWVyUmVmKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1VwbHlua0V2ZW50cyh0aGlzLnRoZW9wbGF5ZXJSZWYpO1xuICAgICAgICB0aGlzLnVwZGF0ZUZlYXR1cmVzKHNvdXJjZUluZGV4KTtcblxuICAgICAgICB0aGlzLnRoZW9wbGF5ZXJSZWYuc291cmNlID0gc291cmNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllclJlZjtcbiAgICB9XG5cbiAgICBpc0xpdmVTdHJlYW0oc291cmNlKSB7XG4gICAgICAgIHJldHVybiAoc291cmNlLnNvdXJjZXMuYXNzZXRUeXBlICYmIChzb3VyY2Uuc291cmNlcy5hc3NldFR5cGUgPT0gXCJjaGFubmVsXCIgfHwgc291cmNlLnNvdXJjZXMuYXNzZXRUeXBlID09IFwiZXZlbnRcIikpO1xuICAgIH1cblxuICAgIHVwZGF0ZUFjdGl2ZUFzc2V0KCkge1xuICAgICAgICBjb25zdCBuZXdBc3NldCA9IHRoaXMuZ2V0QWN0aXZlQXNzZXQoKTtcbiAgICAgICAgaWYgKG5ld0Fzc2V0ICYmIChuZXdBc3NldC5pbmRleCAhPSB0aGlzLmN1cnJlbnRBc3NldCkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFzc2V0ID0gbmV3QXNzZXQuaW5kZXg7XG4gICAgICAgICAgICBQbGF5bGlzdC51cGRhdGVBY3RpdmVJdGVtKG5ld0Fzc2V0KTtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3VycmVudEFzc2V0RGVzY3JpcHRpb25cIikuaW5uZXJUZXh0ID0gbmV3QXNzZXQucmVzb3VyY2UuZGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRNZXRhZGF0YVRvUGxheWxpc3QoYXNzZXQpIHtcbiAgICAgICAgY29uc3QgX3NlbGYgPSB0aGlzO1xuICAgICAgICBjb25zdCBhcHAgPSB0aGlzLmFwcDtcbiAgICAgICAgY29uc3QgYXNzZXRzID0gdGhpcy50aGVvcGxheWVyUmVmLnVwbHluay5hc3NldHM7XG4gICAgICAgIGlmICh0aGlzLnBsYXlsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFzc2V0LnN0YXJ0VGltZSA9IGFzc2V0c1t0aGlzLnBsYXlsaXN0Lmxlbmd0aF0uc3RhcnRUaW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXNzZXQuc3RhcnRUaW1lID0gMDtcbiAgICAgICAgfVxuICAgICAgICBhc3NldC5jbGlja0NhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3NlbGYudGhlb3BsYXllclJlZi5jdXJyZW50VGltZSA9IGFzc2V0LnN0YXJ0VGltZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wbGF5bGlzdC5wdXNoKGFzc2V0KTtcbiAgICAgICAgUGxheWxpc3QuYWRkSXRlbShhc3NldCwgYXBwLnNvdXJjZUluZGV4LCBVdGlsLnNsdWcoYXBwLmFwcENvbmZpZy50YWJzW2FwcC5zb3VyY2VJbmRleF0ubmFtZSkpO1xuXG4gICAgfVxuXG4gICAgZ2V0U291cmNlKHNvdXJjZUluZGV4KSB7XG4gICAgICAgIGNvbnN0IGFwcCA9IHRoaXMuYXBwO1xuICAgICAgICBjb25zdCBUQUJTID0gYXBwLmFwcENvbmZpZy50YWJzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc291cmNlczogVEFCU1tzb3VyY2VJbmRleF0uc291cmNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdXBkYXRlU2tpcE9mZnNldChuZXdWYWx1ZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYWRCcmVha3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRCcmVha3NbaV0uc2tpcE9mZnNldCA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0QWN0aXZlQXNzZXQoKSB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSB0aGlzLnRoZW9wbGF5ZXJSZWYuY3VycmVudFRpbWU7XG4gICAgICAgIGNvbnN0IGFzc2V0cyA9IHRoaXMudGhlb3BsYXllclJlZi51cGx5bmsuYXNzZXRzO1xuICAgICAgICBsZXQgYWN0aXZlQXNzZXRPckFkQnJlYWs7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhc3NldCA9IGFzc2V0c1tpXTtcbiAgICAgICAgICAgIGlmIChhc3NldC5zdGFydFRpbWUgPD0gdGltZSAmJiB0aW1lIDw9IGFzc2V0LmVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVBc3NldE9yQWRCcmVhayA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYXNzZXQuaXNBZCA/ICdhZEJyZWFrJyA6ICdhc3NldCcsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiBhc3NldCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGl2ZUFzc2V0T3JBZEJyZWFrO1xuICAgIH1cblxuICAgIGdldEZlYXR1cmVzKHNvdXJjZUluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC5hcHBDb25maWcudGFic1tzb3VyY2VJbmRleF0uZmVhdHVyZXM7XG4gICAgfVxuXG4gICAgY3JlYXRlQ3VzdG9tSWNvbihwbGF5ZXIpIHtcbiAgICAgICAgLy8gc2V0dGluZyB1cCB0aGUgcmV3aW5kIGJ1dHRvbiBieSBzZXR0aW5nIHVwIGEgdmlkZW8tanMgY29tcG9uZW50XG4gICAgICAgIGNvbnN0IEJ1dHRvbiA9IFRIRU9wbGF5ZXIudmlkZW9qcy5nZXRDb21wb25lbnQoJ0J1dHRvbicpO1xuICAgICAgICBjb25zdCBSZXdpbmRCdXR0b24gPSBUSEVPcGxheWVyLnZpZGVvanMuZXh0ZW5kKEJ1dHRvbiwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIEJ1dHRvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIC8qIGluaXRpYWxpemUgeW91ciBidXR0b24gKi9cbiAgICAgICAgICAgICAgICAvLyB0aGlzLmVsKCkgPSBjcmVhdGVkIERPTS1lbGVtZW50XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgdG9vbHRpcFxuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXBTcGFuLmNsYXNzTmFtZSA9ICd0aGVvLWJ1dHRvbi10b29sdGlwIHZqcy1oaWRkZW4nO1xuICAgICAgICAgICAgICAgIHRvb2x0aXBTcGFuLmlubmVyVGV4dCA9ICdJbmZvJztcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVUb29sdGlwKCkge1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwU3Bhbi5jbGFzc0xpc3QudG9nZ2xlKCd2anMtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZWwoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0b2dnbGVUb29sdGlwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsKCkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0b2dnbGVUb29sdGlwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsKCkuYXBwZW5kQ2hpbGQodG9vbHRpcFNwYW4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhbmRsZUNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW9wbGF5ZXItaW5mbycpLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJ1aWxkQ1NTQ2xhc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2ZhIGZhLWluZm8gdmpzLWJ1dHRvbic7IC8vIGluc2VydCBhbGwgY2xhc3MgbmFtZXMgaGVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgVEhFT3BsYXllci52aWRlb2pzLnJlZ2lzdGVyQ29tcG9uZW50KCdSZXdpbmRCdXR0b24nLCBSZXdpbmRCdXR0b24pO1xuICAgICAgICBwbGF5ZXIudWkuZ2V0Q2hpbGQoJ2NvbnRyb2xCYXInKS5hZGRDaGlsZCgnUmV3aW5kQnV0dG9uJywge30pO1xuXG4gICAgfVxuXG4gICAgdXBkYXRlQWN0aXZlUXVhbGl0eShwbGF5ZXIpIHtcbiAgICAgICAgY29uc3QgX3NlbGYgPSB0aGlzO1xuICAgICAgICBwbGF5ZXIudmlkZW9UcmFja3MuYWRkRXZlbnRMaXN0ZW5lcignYWRkdHJhY2snLCBmdW5jdGlvbihlMCkge1xuICAgICAgICAgICAgLy8gZGV0ZWN0IHF1YWxpdHkgY2hhbmdlcyBvZiBhIHRyYWNrXG4gICAgICAgICAgICBlMC50cmFjay5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmVxdWFsaXR5Y2hhbmdlZCcsIGZ1bmN0aW9uKGUxKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjdXJyZW50VmlkZW9RdWFsaXR5XCIpLmlubmVyVGV4dCA9IGUxLnF1YWxpdHkuaGVpZ2h0ICsgXCIgKFwiK2UxLnF1YWxpdHkuY29kZWNzK1wiKVwiO1xuICAgICAgICAgICAgICAgIF9zZWxmLndyaXRlRXZlbnRzKEpTT04uc3RyaW5naWZ5KGUxKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNsZWFyRXZlbnRzKCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGhlb3BsYXllci1ldmVudHMgdGV4dGFyZWEnKS52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICAgIHdyaXRlRXZlbnRzKHRleHQpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZW9wbGF5ZXItZXZlbnRzIHRleHRhcmVhJykudmFsdWUgPSB0ZXh0ICsgXCJcXG5cIiArIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aGVvcGxheWVyLWV2ZW50cyB0ZXh0YXJlYScpLnZhbHVlO1xuICAgICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGhlb3BsYXllci1ldmVudHMgc2VsZWN0JykuaW5uZXJUZXh0ID0gdGV4dCsgXCJcXG5cIiArIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aGVvcGxheWVyLWV2ZW50cyBzZWxlY3QnKS5pbm5lclRleHQ7XG5cbiAgICB9XG4gICAgc3Vic2NyaWJlVG9VcGx5bmtFdmVudHMocGxheWVyKSB7XG4gICAgICAgIGNvbnN0IF9zZWxmID0gdGhpcztcbiAgICAgICAgLy8gdXBseW5rIGV2ZW50c1xuICAgICAgICBbXG4gICAgICAgICAgICAncHJlcGxheXJlc3BvbnNlJyxcbiAgICAgICAgICAgICdwaW5ncmVzcG9uc2UnLFxuICAgICAgICAgICAgJ2Fzc2V0aW5mb3Jlc3BvbnNlJ1xuICAgICAgICBdLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcGxheWVyLnVwbHluay5hZGRFdmVudExpc3RlbmVyKGUsIGZ1bmN0aW9uIChlMSkge1xuICAgICAgICAgICAgICAgIF9zZWxmLndyaXRlRXZlbnRzKEpTT04uc3RyaW5naWZ5KGUxKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHVwbHluay5hc3NldHMgZXZlbnRzXG4gICAgICAgIFtcbiAgICAgICAgICAgICdhZGRhc3NldCcsXG4gICAgICAgICAgICAncmVtb3ZlYXNzZXQnXG4gICAgICAgIF0uZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBwbGF5ZXIudXBseW5rLmFzc2V0cy5hZGRFdmVudExpc3RlbmVyKGUsIGZ1bmN0aW9uIChlMSkge1xuICAgICAgICAgICAgICAgIF9zZWxmLndyaXRlRXZlbnRzKEpTT04uc3RyaW5naWZ5KGUxKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHVwbHluay5hZHMgZXZlbnRzXG4gICAgICAgIFtcbiAgICAgICAgICAgICdhZGRhZGJyZWFrJyxcbiAgICAgICAgICAgICdyZW1vdmVhZGJyZWFrJ1xuICAgICAgICBdLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcGxheWVyLnVwbHluay5hZHMuYWRCcmVha3MuYWRkRXZlbnRMaXN0ZW5lcihlLCBmdW5jdGlvbiAoZTEpIHtcbiAgICAgICAgICAgICAgICBfc2VsZi53cml0ZUV2ZW50cyhKU09OLnN0cmluZ2lmeShlMSkpO1xuICAgICAgICAgICAgICAgIGlmIChlMS50eXBlID09IFwiYWRkYWRicmVha1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwbHluay5hZHMuYWRCcmVha1tpXSBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FkYnJlYWtiZWdpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWRicmVha2VuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWRicmVha3NraXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZGF0ZWFkYnJlYWsnXG4gICAgICAgICAgICAgICAgICAgIF0uZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlMS5hZEJyZWFrLmFkZEV2ZW50TGlzdGVuZXIoZSwgZnVuY3Rpb24gKGUyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYud3JpdGVFdmVudHMoSlNPTi5zdHJpbmdpZnkoZTIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBseW5rLmFzLmFkQnJlYWsuYWRzW2ldIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUxLmFkQnJlYWsuYWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkYmVnaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhZGVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZmlyc3RxdWFydGlsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkbWlkcG9pbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhZHRoaXJkcXVhcnRpbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhZGNvbXBsZXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlMS5hZEJyZWFrLmFkc1tpXS5hZGRFdmVudExpc3RlbmVyKGUsIGZ1bmN0aW9uIChlMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi53cml0ZUV2ZW50cyhKU09OLnN0cmluZ2lmeShlMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRmVhdHVyZXMoc291cmNlSW5kZXgpIHtcbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdldEZlYXR1cmVzKHNvdXJjZUluZGV4KTtcbiAgICAgICAgY29uc3QgZmVhdHVyZXNEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGhlb3BsYXllci11cGx5bmstZmVhdHVyZXMnKTtcbiAgICAgICAgZmVhdHVyZXNEaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3BhbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgc3BhbkVsLmNsYXNzTmFtZSA9IFwiYmFkZ2UgYmFkZ2UtcGlsbCBiYWRnZS1wcmltYXJ5XCI7XG4gICAgICAgICAgICBzcGFuRWwuaW5uZXJUZXh0ID0gZmVhdHVyZXNbaV07XG4gICAgICAgICAgICBmZWF0dXJlc0Rpdi5hcHBlbmRDaGlsZChzcGFuRWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVEhFT3BsYXllckluZm8oZWxlbWVudCkge1xuICAgICAgICBjb25zdCBodG1sVG9BZGQgPSBgPGRpdiBjbGFzcz1cInRoZW9wbGF5ZXItaW5mbyBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaGVhZGVyXCIgc3R5bGU9XCJjb2xvcjogIzIxMjUyOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiY2FyZC10aXRsZS1zcGFjZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiY3VycmVudEFzc2V0RGVzY3JpcHRpb25cIj48L3NwYW4+ICZuYnNwOyA8aSBjbGFzcz1cImZhIGZhLXZpZGVvXCI+PC9pPiA8c3BhbiBpZD1cImN1cnJlbnRWaWRlb1F1YWxpdHlcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS13aW5kb3ctY2xvc2VcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiIGlkPVwidGhlb3BsYXllci1ldmVudHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkV2ZW50czwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cIlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZm9vdGVyIHRleHQtbXV0ZWRcIiBpZD1cInRoZW9wbGF5ZXItdXBseW5rLWZlYXR1cmVzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBodG1sVG9BZGQ7XG4gICAgICAgIHZhciBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS13aW5kb3ctY2xvc2UnKTtcbiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGVvcGxheWVyLWluZm8nKS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbn1cbiIsImV4cG9ydCBsZXQgYXBwQ29uZmlnID0gYXBwQ29uZmlnIHx8IHtcbiAgICBsYW5ndWFnZTogJ2VuJyxcbiAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiTXVsdGktQXNzZXQgRFJNXCIsXG4gICAgICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdGlvbjogJ3VwbHluaycsXG4gICAgICAgICAgICAgICAgaWQ6IFsnZTk3M2E1MDllNjcyNDFlM2FhMzY4NzMwMTMwYTEwNGQnLCAnZTcwYTcwODI2NWI5NGEzZmE2NzE2NjY2OTk0ZDg3N2QnXSxcbiAgICAgICAgICAgICAgICBjb250ZW50UHJvdGVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFzc2V0VHlwZTogJ2Fzc2V0JyxcbiAgICAgICAgICAgICAgICBwcmVwbGF5UGFyYW1ldGVyczoge31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmZWF0dXJlczogW1wiUHJlcGxheVwiLCBcIkFzc2V0IEluZm9cIiwgXCJEUk1cIiwgXCJNdWx0aS1Bc3NldFwiXSxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICdnZW5lcmFsJzogW1wiY29taW5nLXVwLW5vdGlmaWNhdGlvblwiLCBcInNob3ctYXNzZXQtbWFya2Vyc1wiXSxcbiAgICAgICAgICAgICAgICAncXVldWUnOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiBbXCJwcmV2aWV3LXRodW1ibmFpbHNcIl1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJBZHNcIixcbiAgICAgICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgICAgIFwiaW50ZWdyYXRpb25cIjogXCJ1cGx5bmtcIixcbiAgICAgICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgXCI0MWFmYzA0ZDM0YWQ0Y2JkODU1ZGI1MjQwMmVmMjEwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImM2YjYxNDcwYzI3ZDQ0YzQ4NDIzNDY5ODBlYzJjN2JkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiNTg4ZjlkOTY3NjQzNDA5NTgwYWE1ZGJlMTM2Njk3YTFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJiMTkyN2E1ZDViZDk0MDRjODVmZGU3NWMzMDdjNjNhZFwiLFxuICAgICAgICAgICAgICAgICAgICBcIjdlOTkzMmQ5MjJlMjQ1OWJhYzE1OTk5MzhmMTJiMjcyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYTRjNDBlMmE4ZDViNDYzMzhiMDlkN2Y4NjMwNDk2NzVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJiY2Y3ZDc4YzRmZjk0Yzk2OWIyNjY4YTZlZGM2NDI3OFwiLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCJjb250ZW50UHJvdGVjdGVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiYXNzZXRUeXBlXCI6IFwiYXNzZXRcIixcbiAgICAgICAgICAgICAgICBcInByZXBsYXlQYXJhbWV0ZXJzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgYWQ6IFwiYWR0ZXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYWQubGliXCI6IFwiMTVfc2VjX3Nwb3RzXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmVhdHVyZXM6IFtcIlByZXBsYXlcIiwgXCJBc3NldCBJbmZvXCIsIFwiQWRzXCIsIFwiTXVsdGktQXNzZXRcIiwgXCJTU0FJXCJdLFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgJ2dlbmVyYWwnOiBbXCJjb21pbmctdXAtbm90aWZpY2F0aW9uXCIsIFwiYWQtbm90aWZpY2F0aW9uXCIsIFwic2hvdy1hc3NldC1tYXJrZXJzXCIsIFwic2hvdy1hZC1icmVhay1tYXJrZXJzXCJdLFxuICAgICAgICAgICAgICAgICdza2lwLW9mZnNldCc6ICctMScsXG4gICAgICAgICAgICAgICAgJ3NlZWstb3Zlci1hZCc6ICdwbGF5LWFsbCcsXG4gICAgICAgICAgICAgICAgJ3F1ZXVlJzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyAvLyBUaGUgZm9sbG93aW5nIHN0cmVhbSBpcyBkb3duIGZvciB0aGUgbW9tZW50LlxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICBuYW1lOiBcIkxpdmVcIixcbiAgICAgICAgLy8gICAgIHNvdXJjZToge1xuICAgICAgICAvLyAgICAgICAgIGludGVncmF0aW9uOiAndXBseW5rJyxcbiAgICAgICAgLy8gICAgICAgICBhc3NldFR5cGU6ICdjaGFubmVsJyxcbiAgICAgICAgLy8gICAgICAgICBpZDogJzNjMzY3NjY5YTgzYjRjZGFiMjBjY2VlZmFjMjUzNjg0JyxcbiAgICAgICAgLy8gICAgICAgICBwcmVwbGF5UGFyYW1ldGVyczogeyAnYWQnOiAnY2xlYXJkYXNobmV3J30sXG4gICAgICAgIC8vICAgICAgICAgcGxheWJhY2tVcmxQYXJhbWV0ZXJzOiB7fSxcbiAgICAgICAgLy8gICAgICAgICBwaW5nOiB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGFkSW1wcmVzc2lvbnM6IGZhbHNlLFxuICAgICAgICAvLyAgICAgICAgICAgICBmcmVlV2hlZWxWaWRlb1ZpZXdzOiBmYWxzZSxcbiAgICAgICAgLy8gICAgICAgICAgICAgbGluZWFyQWREYXRhOiB0cnVlXG4gICAgICAgIC8vICAgICAgICAgfSxcbiAgICAgICAgLy8gICAgICAgICBjb250ZW50UHJvdGVjdGVkOiB0cnVlXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgZmVhdHVyZXM6IFtcIlByZXBsYXlcIiwgXCJQaW5nXCIsIFwiQXNzZXQgSW5mb1wiLCBcIkRSTVwiLCBcIkFkc1wiLCBcIlNTQUlcIl0sXG4gICAgICAgIC8vICAgICBjb25maWc6IHtcbiAgICAgICAgLy8gICAgICAgICAnZ2VuZXJhbCc6IFtcImNvbWluZy11cC1ub3RpZmljYXRpb25cIl0sXG4gICAgICAgIC8vICAgICAgICAgJ3F1ZXVlJzogZmFsc2VcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuICAgIF1cbn07XG4iLCJpbXBvcnQge1RhYn0gZnJvbSBcIi4vdWkvdGFiL1RhYlwiO1xuaW1wb3J0IHtVdGlsfSBmcm9tIFwiLi9VdGlsXCJcbmltcG9ydCB7TG9jYWxpemF0aW9ufSBmcm9tIFwiLi9sb2NhbGl6YXRpb24vTG9jYWxpemF0aW9uXCI7XG5pbXBvcnQge0FwcE1vZGFsfSBmcm9tIFwiLi91aS9BcHBNb2RhbFwiO1xuaW1wb3J0IHtQbGF5ZXJVdGlsfSBmcm9tIFwiLi9wbGF5ZXJcIjtcbmltcG9ydCB7YXBwQ29uZmlnfSBmcm9tIFwiLi9jb25maWdcIjtcblxuZXhwb3J0IGNsYXNzIEFwcCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucGxheWVyVXRpbCA9IG5ldyBQbGF5ZXJVdGlsKHRoaXMpO1xuICAgICAgICB0aGlzLmZpcnN0TG9hZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFwcENvbmZpZyA9IGFwcENvbmZpZztcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICB1cGx5bms6IHtcbiAgICAgICAgICAgICAgICBjb250ZW50Tm90aWZpY2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhZE5vdGlmaWNhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRNYXJrZXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhZEJyZWFrTWFya2VyczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2Vla092ZXJBZDogJ3BsYXktYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNraXBPZmZzZXQ6IC0xLFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5maXJzdExvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyc3RMb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYXBwTW9kYWwgPSBuZXcgQXBwTW9kYWwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgVGFiLmNyZWF0ZUFsbCh0aGlzLmFwcENvbmZpZy50YWJzKTtcbiAgICAgICAgdGhpcy5iaW5kQ29udHJvbHMoKTtcbiAgICAgICAgTG9jYWxpemF0aW9uLmxvY2FsaXplQXBwQXBwQ29weXJpZ2h0KHRoaXMsIHRoaXMuYXBwQ29uZmlnLmxhbmd1YWdlKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJVdGlsLmluaXRQbGF5ZXIoMCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IHRhYnMgPSB0aGlzLmFwcENvbmZpZy50YWJzO1xuICAgICAgICBjb25zdCByYWRpb0NvbnRyb2xJZHMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2tpcE9mZnNldHMgPSBbXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uUmFkaW9zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gdGFic1tpXS5jb25maWc7XG4gICAgICAgICAgICBjb25zdCBzbHVnTmFtZSA9IFV0aWwuc2x1Zyh0YWJzW2ldLm5hbWUpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5nZW5lcmFsLmluZGV4T2YoJ2NvbWluZy11cC1ub3RpZmljYXRpb24nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcmFkaW9Db250cm9sSWRzLnB1c2goc2x1Z05hbWUgKyBcIl9jb250ZW50Tm90aWZpY2F0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZy5nZW5lcmFsLmluZGV4T2YoJ2FkLW5vdGlmaWNhdGlvbicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByYWRpb0NvbnRyb2xJZHMucHVzaChzbHVnTmFtZSArIFwiX2FkTm90aWZpY2F0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZy5nZW5lcmFsLmluZGV4T2YoJ3Nob3ctYXNzZXQtbWFya2VycycpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByYWRpb0NvbnRyb2xJZHMucHVzaChzbHVnTmFtZSArIFwiX2Fzc2V0TWFya2Vyc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcuZ2VuZXJhbC5pbmRleE9mKCdzaG93LWFkLWJyZWFrLW1hcmtlcnMnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcmFkaW9Db250cm9sSWRzLnB1c2goc2x1Z05hbWUgKyBcIl9hZEJyZWFrTWFya2Vyc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWdbJ3NraXAtb2Zmc2V0J10pIHtcbiAgICAgICAgICAgICAgICBza2lwT2Zmc2V0cy5wdXNoKHNsdWdOYW1lICsgXCJfc2tpcE9mZnNldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWdbJ3NlZWstb3Zlci1hZCddKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uUmFkaW9zLnB1c2goc2x1Z05hbWUgKyAnX29wdGlvbnNSYWRpb3MxJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmFkaW9Db250cm9sSWRzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBza2lwT2Zmc2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWUgPSAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9wdGlvblJhZGlvcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbmZpZy51cGx5bmsuY29udGVudE5vdGlmaWNhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnLnVwbHluay5hZE5vdGlmaWNhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnLnVwbHluay5hc3NldE1hcmtlcnMgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbmZpZy51cGx5bmsuYWRCcmVha01hcmtlcnMgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbmZpZy51cGx5bmsuc2Vla092ZXJBZCA9ICdwbGF5LWFsbCc7XG4gICAgICAgIHRoaXMuY29uZmlnLnVwbHluay5kZWZhdWx0U2tpcE9mZnNldCA9IC0xO1xuICAgIH1cblxuICAgIGJpbmRDb250cm9scygpIHtcbiAgICAgICAgY29uc3QgX3NlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIFRhYiBzd2l0Y2ggZGV0ZWN0aW9uXG4gICAgICAgIGNvbnN0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbXlUYWIgYScpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRhYnNbaV0ub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgX3NlbGYucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJJbmRleCA9IGUudGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKF9zZWxmLnNvdXJjZUluZGV4ICE9PSB0YWJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zb3VyY2VJbmRleCA9IHRhYkluZGV4O1xuICAgICAgICAgICAgICAgICAgICBfc2VsZi5wbGF5ZXJVdGlsLmluaXRQbGF5ZXIodGFiSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlZWsgb3ZlciBhZCByYWRpbyBpbnB1dFxuICAgICAgICBjb25zdCByYWRpb3MgPSBkb2N1bWVudC5mb3Jtc1swXS5vcHRpb25zUmFkaW9zO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhZGlvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmFkaW9zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgX3NlbGYuY29uZmlnLnVwbHluay5zZWVrT3ZlckFkID0gZS5zcmNFbGVtZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgIF9zZWxmLnBsYXllclV0aWwuaW5pdFBsYXllcihfc2VsZi5zb3VyY2VJbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkcyBUYWI6IHNraXAgb2Zmc2V0IG51bWJlciBpbnB1dFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9zZWxmLmFwcENvbmZpZy50YWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBza2lwT2Zmc2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoVXRpbC5zbHVnKF9zZWxmLmFwcENvbmZpZy50YWJzW2ldLm5hbWUpICsgXCJfc2tpcE9mZnNldFwiKTtcbiAgICAgICAgICAgIGlmIChza2lwT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgc2tpcE9mZnNldC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lwVmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraXBNYXggPSBwYXJzZUludChlLnRhcmdldC5tYXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcFZhbHVlIDwgMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lwVmFsdWUgPiBza2lwTWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHNraXBNYXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuY29uZmlnLnVwbHluay5kZWZhdWx0U2tpcE9mZnNldCA9IHNraXBWYWx1ZSB8fCAtMTtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYucGxheWVyVXRpbC51cGRhdGVTa2lwT2Zmc2V0KF9zZWxmLmNvbmZpZy51cGx5bmsuZGVmYXVsdFNraXBPZmZzZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbGwgVGFiczogY2hlY2tib3ggaW5wdXRcbiAgICAgICAgY29uc3QgdXBseW5rQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNteVRhYkNvbnRlbnQgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBseW5rQ2hlY2tib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYm94ID0gdXBseW5rQ2hlY2tib3hlc1tpXTtcbiAgICAgICAgICAgIGJveC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBfc2VsZi5jb25maWcudXBseW5rW2UudGFyZ2V0LmRhdGFzZXQudXBseW5rY29uZmlnXSA9IGUuc3JjRWxlbWVudC5jaGVja2VkO1xuICAgICAgICAgICAgICAgIF9zZWxmLnBsYXllclV0aWwuaW5pdFBsYXllcihfc2VsZi5zb3VyY2VJbmRleCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsIFRhYnM6IHJlc2V0IGJ1dHRvbnNcbiAgICAgICAgY29uc3QgcmVzZXRCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmVzZXRfZGVtbycpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc2V0QnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzZXRCdXR0b25zW2ldLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3NlbGYucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBfc2VsZi5wbGF5ZXJVdGlsLmluaXRQbGF5ZXIoX3NlbGYuc291cmNlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7QXBwfSBmcm9tICcuL2FwcCc7XG53aW5kb3cuQXBwID0gQXBwOyJdLCJzb3VyY2VSb290IjoiIn0=